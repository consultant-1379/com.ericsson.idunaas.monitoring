{"annotations": {"list": [{"builtIn": 1, "datasource": "-- Grafana --", "enable": true, "hide": true, "iconColor": "rgba(0, 211, 255, 1)", "name": "Annotations & Alerts", "target": {"limit": 100, "matchAny": false, "tags": [], "type": "dashboard"}, "type": "dashboard"}]}, "description": "Visualize AWS ELB Network Load Balancer metrics\r\n", "editable": true, "gnetId": 12111, "graphTooltip": 0, "id": 193, "iteration": 1665571430520, "links": [], "panels": [{"collapsed": false, "datasource": null, "gridPos": {"h": 1, "w": 24, "x": 0, "y": 0}, "id": 23, "panels": [], "title": "ELB Analysis", "type": "row"}, {"datasource": "${environment}", "fieldConfig": {"defaults": {"color": {"mode": "thresholds"}, "mappings": [], "thresholds": {"mode": "absolute", "steps": [{"color": "green", "value": null}, {"color": "red", "value": 80}]}}, "overrides": []}, "gridPos": {"h": 7, "w": 5, "x": 0, "y": 1}, "id": 25, "options": {"colorMode": "value", "graphMode": "area", "justifyMode": "auto", "orientation": "auto", "reduceOptions": {"calcs": ["lastNotNull"], "fields": "", "values": false}, "text": {}, "textMode": "auto"}, "pluginVersion": "8.1.3", "targets": [{"exemplar": true, "expr": "avg_over_time(aws_networkelb_active_flow_count_sum{load_balancer=\"$loadbalancer\"}[1h])", "instant": true, "interval": "", "legendFormat": "{{availability_zone}}", "refId": "A"}], "title": "Active Flow Count Past Hour", "type": "stat"}, {"aliasColors": {}, "bars": false, "dashLength": 10, "dashes": false, "datasource": "${environment}", "description": "The total number of concurrent flows (or connections) from clients to targets.", "editable": true, "error": false, "fieldConfig": {"defaults": {"links": []}, "overrides": []}, "fill": 1, "fillGradient": 0, "grid": {}, "gridPos": {"h": 7, "w": 19, "x": 5, "y": 1}, "hiddenSeries": false, "id": 7, "isNew": true, "legend": {"alignAsTable": true, "avg": true, "current": true, "max": true, "min": true, "show": true, "sort": "max", "sortDesc": false, "total": false, "values": true}, "lines": true, "linewidth": 2, "links": [], "nullPointMode": "connected", "options": {"alertThreshold": true}, "percentage": false, "pluginVersion": "8.1.3", "pointradius": 5, "points": false, "renderer": "flot", "seriesOverrides": [{"alias": "TargetResponseTime_Average", "yaxis": 2}], "spaceLength": 10, "stack": false, "steppedLine": false, "targets": [{"alias": "", "application": {"filter": ""}, "dimensions": {"LoadBalancer": "$loadbalancername"}, "exemplar": true, "expr": "aws_networkelb_active_flow_count_sum{load_balancer=\"$loadbalancer\"}", "expression": "", "functions": [], "group": {"filter": ""}, "highResolution": false, "host": {"filter": ""}, "id": "", "interval": "", "item": {"filter": ""}, "legendFormat": "{{availability_zone}}", "matchExact": true, "metricName": "ActiveFlowCount", "mode": 0, "namespace": "AWS/NetworkELB", "options": {"showDisabledItems": false}, "period": "", "refId": "A", "region": "$region", "returnData": false, "statistics": ["Sum"]}], "thresholds": [], "timeFrom": null, "timeRegions": [], "timeShift": null, "title": "Active Flow Count", "tooltip": {"msResolution": false, "shared": true, "sort": 0, "value_type": "cumulative"}, "type": "graph", "xaxis": {"buckets": null, "mode": "time", "name": null, "show": true, "values": []}, "yaxes": [{"$$hashKey": "object:312", "decimals": 0, "format": "none", "label": null, "logBase": 1, "max": null, "min": 0, "show": true}, {"$$hashKey": "object:313", "format": "s", "label": null, "logBase": 1, "max": null, "min": 0, "show": true}], "yaxis": {"align": false, "alignLevel": null}}, {"aliasColors": {}, "bars": false, "dashLength": 10, "dashes": false, "datasource": "${environment}", "decimals": null, "description": "The total number of concurrent TCP flows (or connections) from clients to targets.", "editable": true, "error": false, "fieldConfig": {"defaults": {"links": []}, "overrides": []}, "fill": 1, "fillGradient": 0, "grid": {}, "gridPos": {"h": 7, "w": 24, "x": 0, "y": 8}, "hiddenSeries": false, "id": 10, "isNew": true, "legend": {"alignAsTable": true, "avg": true, "current": true, "max": true, "min": true, "show": true, "sort": null, "sortDesc": null, "total": false, "values": true}, "lines": true, "linewidth": 2, "links": [], "nullPointMode": "null as zero", "options": {"alertThreshold": true}, "percentage": false, "pluginVersion": "8.1.3", "pointradius": 5, "points": false, "renderer": "flot", "seriesOverrides": [], "spaceLength": 10, "stack": true, "steppedLine": false, "targets": [{"alias": "", "application": {"filter": ""}, "dimensions": {"LoadBalancer": "$loadbalancername"}, "exemplar": true, "expr": "aws_networkelb_active_flow_count_tcp_sum{load_balancer=\"$loadbalancer\"}", "expression": "", "functions": [], "group": {"filter": ""}, "highResolution": false, "host": {"filter": ""}, "id": "", "interval": "", "item": {"filter": ""}, "legendFormat": "{{availability_zone}}", "matchExact": true, "metricName": "NewFlowCount_TLS", "mode": 0, "namespace": "AWS/NetworkELB", "options": {"showDisabledItems": false}, "period": "", "refId": "D", "region": "$region", "returnData": false, "statistics": ["Average"]}], "thresholds": [], "timeFrom": null, "timeRegions": [], "timeShift": null, "title": "Active Flow Count TCP", "tooltip": {"msResolution": false, "shared": true, "sort": 0, "value_type": "individual"}, "type": "graph", "xaxis": {"buckets": null, "mode": "time", "name": null, "show": true, "values": []}, "yaxes": [{"$$hashKey": "object:470", "decimals": 0, "format": "none", "label": null, "logBase": 1, "max": null, "min": 0, "show": true}, {"$$hashKey": "object:471", "format": "short", "label": null, "logBase": 1, "max": null, "min": 0, "show": false}], "yaxis": {"align": false, "alignLevel": null}}, {"datasource": "${environment}", "fieldConfig": {"defaults": {"color": {"mode": "thresholds"}, "mappings": [], "thresholds": {"mode": "absolute", "steps": [{"color": "green", "value": null}, {"color": "red", "value": 80}]}, "unit": "bytes"}, "overrides": []}, "gridPos": {"h": 7, "w": 5, "x": 0, "y": 15}, "id": 26, "options": {"colorMode": "value", "graphMode": "area", "justifyMode": "auto", "orientation": "auto", "reduceOptions": {"calcs": ["lastNotNull"], "fields": "", "values": false}, "text": {}, "textMode": "auto"}, "pluginVersion": "8.1.3", "targets": [{"exemplar": true, "expr": "avg_over_time(aws_networkelb_processed_bytes_sum{load_balancer=\"$loadbalancer\"}[1h])", "instant": true, "interval": "", "legendFormat": "{{availability_zone}}", "refId": "A"}], "title": "Processed Bytes Past Hour", "type": "stat"}, {"aliasColors": {}, "bars": false, "dashLength": 10, "dashes": false, "datasource": "${environment}", "description": "The total number of bytes processed by the load balancer, including TCP/IP headers. This count includes traffic to and from targets, minus health check traffic.", "editable": true, "error": false, "fieldConfig": {"defaults": {"links": []}, "overrides": []}, "fill": 1, "fillGradient": 0, "grid": {}, "gridPos": {"h": 7, "w": 19, "x": 5, "y": 15}, "hiddenSeries": false, "id": 8, "isNew": true, "legend": {"alignAsTable": true, "avg": true, "current": true, "max": true, "min": true, "show": true, "sort": "current", "sortDesc": true, "total": false, "values": true}, "lines": true, "linewidth": 2, "links": [], "nullPointMode": "connected", "options": {"alertThreshold": true}, "percentage": false, "pluginVersion": "8.1.3", "pointradius": 5, "points": false, "renderer": "flot", "seriesOverrides": [{"alias": "ProcessedBytes_Average", "yaxis": 2}], "spaceLength": 10, "stack": false, "steppedLine": false, "targets": [{"alias": "", "application": {"filter": ""}, "dimensions": {"LoadBalancer": "$loadbalancername"}, "exemplar": true, "expr": "aws_networkelb_processed_bytes_average{load_balancer=\"$loadbalancer\"}", "expression": "", "functions": [], "group": {"filter": ""}, "highResolution": false, "host": {"filter": ""}, "id": "", "interval": "", "item": {"filter": ""}, "legendFormat": "{{availability_zone}}", "matchExact": true, "metricName": "ProcessedBytes", "mode": 0, "namespace": "AWS/NetworkELB", "options": {"showDisabledItems": false}, "period": "", "refId": "A", "region": "$region", "returnData": false, "statistics": ["Average"]}], "thresholds": [], "timeFrom": null, "timeRegions": [], "timeShift": null, "title": "ProcessedBytes", "tooltip": {"msResolution": false, "shared": true, "sort": 0, "value_type": "cumulative"}, "type": "graph", "xaxis": {"buckets": null, "mode": "time", "name": null, "show": true, "values": []}, "yaxes": [{"$$hashKey": "object:727", "format": "bytes", "label": null, "logBase": 1, "max": null, "min": 0, "show": true}, {"$$hashKey": "object:728", "format": "bytes", "label": null, "logBase": 1, "max": null, "min": 0, "show": true}], "yaxis": {"align": false, "alignLevel": null}}, {"aliasColors": {}, "bars": false, "dashLength": 10, "dashes": false, "datasource": "${environment}", "description": "The total number of bytes processed by TCP listeners.", "editable": true, "error": false, "fieldConfig": {"defaults": {"links": [], "unit": "bits"}, "overrides": []}, "fill": 1, "fillGradient": 0, "grid": {}, "gridPos": {"h": 8, "w": 24, "x": 0, "y": 22}, "hiddenSeries": false, "id": 16, "isNew": true, "legend": {"alignAsTable": true, "avg": true, "current": true, "max": true, "min": true, "show": true, "sort": "current", "sortDesc": true, "total": false, "values": true}, "lines": true, "linewidth": 2, "links": [], "nullPointMode": "connected", "options": {"alertThreshold": true}, "percentage": false, "pluginVersion": "8.1.3", "pointradius": 5, "points": false, "renderer": "flot", "seriesOverrides": [{"alias": "ProcessedBytes_Average", "yaxis": 2}], "spaceLength": 10, "stack": false, "steppedLine": false, "targets": [{"alias": "", "application": {"filter": ""}, "dimensions": {"LoadBalancer": "$loadbalancername"}, "exemplar": true, "expr": "aws_networkelb_processed_bytes_tcp_sum{load_balancer=\"$loadbalancer\"}", "expression": "", "functions": [], "group": {"filter": ""}, "highResolution": false, "host": {"filter": ""}, "id": "", "interval": "", "item": {"filter": ""}, "legendFormat": "{{availability_zone}}", "matchExact": true, "metricName": "ProcessedBytes", "mode": 0, "namespace": "AWS/NetworkELB", "options": {"showDisabledItems": false}, "period": "", "refId": "A", "region": "$region", "returnData": false, "statistics": ["Average"]}], "thresholds": [], "timeFrom": null, "timeRegions": [], "timeShift": null, "title": "ProcessedBytes TCP", "tooltip": {"msResolution": false, "shared": true, "sort": 0, "value_type": "cumulative"}, "type": "graph", "xaxis": {"buckets": null, "mode": "time", "name": null, "show": true, "values": []}, "yaxes": [{"$$hashKey": "object:727", "format": "bits", "label": null, "logBase": 1, "max": null, "min": 0, "show": true}, {"$$hashKey": "object:728", "format": "bytes", "label": null, "logBase": 1, "max": null, "min": 0, "show": true}], "yaxis": {"align": false, "alignLevel": null}}, {"aliasColors": {}, "bars": false, "dashLength": 10, "dashes": false, "datasource": "${environment}", "description": "Highest average packet rate (packets processed per second), calculated every 10 seconds during the sampling window. This includes Health check packets.", "editable": true, "error": false, "fieldConfig": {"defaults": {"links": [], "unit": "none"}, "overrides": []}, "fill": 1, "fillGradient": 0, "grid": {}, "gridPos": {"h": 8, "w": 24, "x": 0, "y": 30}, "hiddenSeries": false, "id": 17, "isNew": true, "legend": {"alignAsTable": true, "avg": true, "current": true, "max": true, "min": true, "show": true, "sort": "current", "sortDesc": true, "total": false, "values": true}, "lines": true, "linewidth": 2, "links": [], "nullPointMode": "connected", "options": {"alertThreshold": true}, "percentage": false, "pluginVersion": "8.1.3", "pointradius": 5, "points": false, "renderer": "flot", "seriesOverrides": [{"alias": "ProcessedBytes_Average", "yaxis": 2}], "spaceLength": 10, "stack": false, "steppedLine": false, "targets": [{"alias": "", "application": {"filter": ""}, "dimensions": {"LoadBalancer": "$loadbalancername"}, "exemplar": true, "expr": "aws_networkelb_peak_packets_per_second_maximum{load_balancer=\"$loadbalancer\"}", "expression": "", "functions": [], "group": {"filter": ""}, "highResolution": false, "host": {"filter": ""}, "id": "", "instant": false, "interval": "", "item": {"filter": ""}, "legendFormat": "{{availability_zone}}", "matchExact": true, "metricName": "ProcessedBytes", "mode": 0, "namespace": "AWS/NetworkELB", "options": {"showDisabledItems": false}, "period": "", "refId": "A", "region": "$region", "returnData": false, "statistics": ["Average"]}], "thresholds": [], "timeFrom": null, "timeRegions": [], "timeShift": null, "title": "Peak Packets Per Second", "tooltip": {"msResolution": false, "shared": true, "sort": 0, "value_type": "cumulative"}, "type": "graph", "xaxis": {"buckets": null, "mode": "time", "name": null, "show": true, "values": []}, "yaxes": [{"$$hashKey": "object:727", "format": "none", "label": null, "logBase": 1, "max": null, "min": 0, "show": true}, {"$$hashKey": "object:728", "format": "bytes", "label": null, "logBase": 1, "max": null, "min": 0, "show": true}], "yaxis": {"align": false, "alignLevel": null}}, {"datasource": "${environment}", "fieldConfig": {"defaults": {"color": {"mode": "thresholds"}, "mappings": [], "thresholds": {"mode": "absolute", "steps": [{"color": "green", "value": null}, {"color": "red", "value": 80}]}}, "overrides": []}, "gridPos": {"h": 8, "w": 5, "x": 0, "y": 38}, "id": 19, "options": {"colorMode": "value", "graphMode": "area", "justifyMode": "auto", "orientation": "horizontal", "reduceOptions": {"calcs": ["lastNotNull"], "fields": "", "values": false}, "text": {}, "textMode": "auto"}, "pluginVersion": "8.1.3", "targets": [{"exemplar": true, "expr": "cloudwatch_metrics_requested_total{namespace=\"AWS/NetworkELB\"}", "format": "time_series", "instant": true, "interval": "", "legendFormat": "{{metric_name}}", "refId": "A"}], "title": "Metric Collected / Scrape Count", "type": "stat"}, {"datasource": "${environment}", "fieldConfig": {"defaults": {"color": {"mode": "thresholds"}, "mappings": [], "thresholds": {"mode": "absolute", "steps": [{"color": "green", "value": null}, {"color": "red", "value": 80}]}}, "overrides": []}, "gridPos": {"h": 8, "w": 4, "x": 5, "y": 38}, "id": 21, "options": {"colorMode": "background", "graphMode": "area", "justifyMode": "auto", "orientation": "auto", "reduceOptions": {"calcs": ["lastNotNull"], "fields": "", "values": false}, "text": {}, "textMode": "auto"}, "pluginVersion": "8.1.3", "targets": [{"exemplar": true, "expr": "(aws_networkelb_consumed_lcus_sum{load_balancer=\"$loadbalancer\"})", "format": "time_series", "instant": false, "interval": "", "legendFormat": "", "refId": "A"}], "title": "Consumed LCUs", "type": "stat"}], "refresh": false, "schemaVersion": 30, "style": "dark", "tags": ["monitoringartist", "cloudwatch"], "templating": {"list": [{"current": {"selected": false, "text": "prototypeML", "value": "prototypeML"}, "description": "List of all  EIAPaaS EKS Environments", "error": null, "hide": 0, "includeAll": false, "label": "Environment", "multi": false, "name": "environment", "options": [], "query": "prometheus", "queryValue": "", "refresh": 1, "regex": "^(?!(?:.*dev.*|.*[Tt]est.*|DEV1-EIAP_PROM|Prometheus-.*|subsystems|Prometheus-1-dev2|Subsystem-XDN|dev1-eiappm|Prometheus|idunaasdev03|idunaasdev04)$).*$", "skipUrlSync": false, "type": "datasource"}, {"allValue": null, "current": {"selected": false, "text": "net/k8s-ossproto-servicem-0ece953e29/04366411ce052e95", "value": "net/k8s-ossproto-servicem-0ece953e29/04366411ce052e95"}, "datasource": "${environment}", "definition": "label_values(aws_networkelb_active_flow_count_average{},load_balancer)", "description": "Network Load Balancer", "error": null, "hide": 0, "includeAll": false, "label": "Load Balancer", "multi": false, "name": "loadbalancer", "options": [], "query": {"query": "label_values(aws_networkelb_active_flow_count_average{},load_balancer)", "refId": "StandardVariableQuery"}, "refresh": 1, "regex": "", "skipUrlSync": false, "sort": 1, "tagValuesQuery": "", "tagsQuery": "", "type": "query", "useTags": false}]}, "time": {"from": "now-6h", "to": "now"}, "timepicker": {"refresh_intervals": ["5s", "10s", "30s", "1m", "5m", "15m", "30m", "1h", "2h", "1d"], "time_options": ["5m", "15m", "1h", "6h", "12h", "24h", "2d", "7d", "30d"]}, "timezone": "browser", "title": "AWS ELB Network Load Balancer", "uid": "bt8qGKJZz", "version": 1}