{"annotations": {"list": [{"builtIn": 1, "datasource": "-- Grafana --", "enable": true, "hide": true, "iconColor": "rgba(0, 211, 255, 1)", "name": "Annotations & Alerts", "target": {"limit": 100, "matchAny": false, "tags": [], "type": "dashboard"}, "type": "dashboard"}]}, "description": "Alerts dashboard for overall monitoring of pods failed, jobs failed, deployment replicaset unavailable, nodes unavailable and running pvc's about 70%. If threshold breached, then send alert email.", "editable": true, "gnetId": null, "graphTooltip": 0, "id": 129, "links": [], "panels": [{"alert": {"alertRuleTags": {}, "conditions": [{"evaluator": {"params": [0], "type": "gt"}, "operator": {"type": "and"}, "query": {"params": ["Pods Failed", "5m", "now"]}, "reducer": {"params": [], "type": "avg"}, "type": "query"}, {"evaluator": {"params": [0], "type": "gt"}, "operator": {"type": "or"}, "query": {"params": ["Jobs Failed", "5m", "now"]}, "reducer": {"params": [], "type": "avg"}, "type": "query"}, {"evaluator": {"params": [0], "type": "gt"}, "operator": {"type": "or"}, "query": {"params": ["Deployment Replicaset Unavailable", "5m", "now"]}, "reducer": {"params": [], "type": "avg"}, "type": "query"}, {"evaluator": {"params": [0], "type": "gt"}, "operator": {"type": "or"}, "query": {"params": ["Nodes Unavailable", "5m", "now"]}, "reducer": {"params": [], "type": "avg"}, "type": "query"}, {"evaluator": {"params": [0], "type": "gt"}, "operator": {"type": "or"}, "query": {"params": ["Running PVCs Above 70%", "5m", "now"]}, "reducer": {"params": [], "type": "avg"}, "type": "query"}, {"evaluator": {"params": [0], "type": "gt"}, "operator": {"type": "or"}, "query": {"params": ["Cert Expiry within 7d", "5m", "now"]}, "reducer": {"params": [], "type": "avg"}, "type": "query"}, {"evaluator": {"params": [0], "type": "gt"}, "operator": {"type": "or"}, "query": {"params": ["Cert Expiry within 30d", "5m", "now"]}, "reducer": {"params": [], "type": "avg"}, "type": "query"}], "executionErrorState": "alerting", "for": "5m", "frequency": "1m", "handler": 1, "message": "BNEWIDUN01 Overall Monitoring Alert Failure", "name": "BNEWIDUN01 Overall Monitoring Alert", "noDataState": "alerting", "notifications": [{"uid": "7uATNlDnz"}, {"uid": "R3h45GH7z"}]}, "aliasColors": {}, "bars": false, "dashLength": 10, "dashes": false, "datasource": "bnewidun01", "description": "BNEWIDUN01 Alert Dashboard for pods failed, jobs failed, deployment_replicas unavailable, nodes unavailable in the namespace oss and running pvc's above 70% for the environment BNEW01 ", "fieldConfig": {"defaults": {"unit": "short"}, "overrides": []}, "fill": 1, "fillGradient": 0, "gridPos": {"h": 9, "w": 12, "x": 0, "y": 0}, "hiddenSeries": false, "id": 3, "legend": {"avg": false, "current": false, "max": false, "min": false, "show": true, "total": false, "values": false}, "lines": true, "linewidth": 1, "nullPointMode": "null", "options": {"alertThreshold": true}, "percentage": false, "pluginVersion": "8.1.3", "pointradius": 2, "points": false, "renderer": "flot", "seriesOverrides": [], "spaceLength": 10, "stack": false, "steppedLine": false, "targets": [{"exemplar": true, "expr": "sum(kube_pod_status_phase{namespace=~\"oss\", phase=\"Failed\"})", "interval": "", "legendFormat": "Pods Failed", "refId": "Pods Failed"}, {"exemplar": true, "expr": "sum(kube_job_status_failed{namespace=~\"oss\"})", "hide": false, "interval": "", "legendFormat": "Jobs Failed", "refId": "Jobs Failed"}, {"exemplar": true, "expr": "sum(kube_deployment_status_replicas_unavailable{namespace=~\"oss\"})", "hide": false, "interval": "", "legendFormat": "Deployment Replica Unavailable", "refId": "Deployment Replicaset Unavailable"}, {"exemplar": true, "expr": "sum(kube_node_spec_unschedulable{node=~\"ip-[0-9]{3}-[0-9]{2}-[0-9]{2}-[0-9]{1,3}.*\"})", "hide": false, "interval": "", "legendFormat": "Nodes Unavailable", "refId": "Nodes Unavailable"}, {"exemplar": true, "expr": "count (max by (persistentvolumeclaim,namespace) (kubelet_volume_stats_used_bytes ) and (max by (persistentvolumeclaim,namespace) (kubelet_volume_stats_used_bytes )) / (max by (persistentvolumeclaim,namespace) (kubelet_volume_stats_capacity_bytes )) >= (70 / 100)) or vector (0)", "hide": false, "interval": "", "legendFormat": "Running PVCs Above 70%   ", "refId": "Running PVCs Above 70%"}, {"exemplar": true, "expr": "sum(0 < ((x509_cert_not_after{job=\"certificates-exporter\", subject_O=~\"Ericsson.*\"} - time()) / 86400) < bool 7)", "hide": false, "interval": "", "legendFormat": "Certificate expiring within 7 days", "refId": "Cert Expiry within 7d"}, {"exemplar": true, "expr": "sum(0 < ((x509_cert_not_after{job=\"certificates-exporter\", subject_O=~\"Ericsson.*\"} - time()) / 86400) < bool 30)", "hide": false, "interval": "", "legendFormat": "Certificate expiring within 30 days", "refId": "Cert Expiry within 30d"}], "thresholds": [{"colorMode": "critical", "fill": true, "line": true, "op": "gt", "value": 0, "visible": true}], "timeFrom": null, "timeRegions": [], "timeShift": null, "title": "BNEWIDUN01 Overall Monitoring Alert", "tooltip": {"shared": true, "sort": 0, "value_type": "individual"}, "type": "graph", "xaxis": {"buckets": null, "mode": "time", "name": null, "show": true, "values": []}, "yaxes": [{"$$hashKey": "object:63", "format": "short", "label": null, "logBase": 1, "max": null, "min": null, "show": true}, {"$$hashKey": "object:64", "format": "short", "label": null, "logBase": 1, "max": null, "min": null, "show": true}], "yaxis": {"align": false, "alignLevel": null}}, {"alert": {"alertRuleTags": {}, "conditions": [{"evaluator": {"params": [0], "type": "gt"}, "operator": {"type": "and"}, "query": {"params": ["Pods Failed", "5m", "now"]}, "reducer": {"params": [], "type": "avg"}, "type": "query"}, {"evaluator": {"params": [0], "type": "gt"}, "operator": {"type": "or"}, "query": {"params": ["Jobs Failed", "5m", "now"]}, "reducer": {"params": [], "type": "avg"}, "type": "query"}, {"evaluator": {"params": [0], "type": "gt"}, "operator": {"type": "or"}, "query": {"params": ["Deployment Replicaset Unavailable", "5m", "now"]}, "reducer": {"params": [], "type": "avg"}, "type": "query"}, {"evaluator": {"params": [0], "type": "gt"}, "operator": {"type": "or"}, "query": {"params": ["Nodes Unavailable", "5m", "now"]}, "reducer": {"params": [], "type": "avg"}, "type": "query"}, {"evaluator": {"params": [0], "type": "gt"}, "operator": {"type": "or"}, "query": {"params": ["Running PVCs Above 70%", "5m", "now"]}, "reducer": {"params": [], "type": "avg"}, "type": "query"}], "executionErrorState": "alerting", "for": "5m", "frequency": "1m", "handler": 1, "message": "BNEWIDUN02 Overall Monitoring Alert Failure", "name": "BNEWIDUN02 Overall Monitoring Alert", "noDataState": "alerting", "notifications": [{"uid": "7uATNlDnz"}, {"uid": "R3h45GH7z"}]}, "aliasColors": {}, "bars": false, "dashLength": 10, "dashes": false, "datasource": "bnewidun02", "description": "BNEWIDUN02 Alert Dashboard for pods failed, jobs failed, deployment_replicas unavailable, nodes unavailable in the namespace ossbnew02 and running pvc's above 70% for the environment BNEW02", "fieldConfig": {"defaults": {"unit": "short"}, "overrides": []}, "fill": 1, "fillGradient": 0, "gridPos": {"h": 9, "w": 12, "x": 12, "y": 0}, "hiddenSeries": false, "id": 4, "legend": {"avg": false, "current": false, "max": false, "min": false, "show": true, "total": false, "values": false}, "lines": true, "linewidth": 1, "nullPointMode": "null", "options": {"alertThreshold": true}, "percentage": false, "pluginVersion": "8.1.3", "pointradius": 2, "points": false, "renderer": "flot", "seriesOverrides": [], "spaceLength": 10, "stack": false, "steppedLine": false, "targets": [{"exemplar": true, "expr": "sum(kube_pod_status_phase{namespace=~\"ossbnew02\", phase=\"Failed\"})", "interval": "", "legendFormat": "Pods Failed", "refId": "Pods Failed"}, {"exemplar": true, "expr": "sum(kube_job_status_failed{namespace=~\"ossbnew02\"})", "hide": false, "interval": "", "legendFormat": "Jobs Failed", "refId": "Jobs Failed"}, {"exemplar": true, "expr": "sum(kube_deployment_status_replicas_unavailable{namespace=~\"ossbnew02\"})", "hide": false, "interval": "", "legendFormat": "Deployment Replica Unavailable", "refId": "Deployment Replicaset Unavailable"}, {"exemplar": true, "expr": "sum(kube_node_spec_unschedulable{node=~\"ip-[0-9]{3}-[0-9]{2}-[0-9]{2}-[0-9]{1,3}.*\"})", "hide": false, "interval": "", "legendFormat": "Nodes Unavailable", "refId": "Nodes Unavailable"}, {"exemplar": true, "expr": "count (max by (persistentvolumeclaim,namespace) (kubelet_volume_stats_used_bytes ) and (max by (persistentvolumeclaim,namespace) (kubelet_volume_stats_used_bytes )) / (max by (persistentvolumeclaim,namespace) (kubelet_volume_stats_capacity_bytes )) >= (70 / 100)) or vector (0)", "hide": false, "interval": "", "legendFormat": "Running PVCs Above 70%", "refId": "Running PVCs Above 70%"}], "thresholds": [{"colorMode": "critical", "fill": true, "line": true, "op": "gt", "value": 0, "visible": true}], "timeFrom": null, "timeRegions": [], "timeShift": null, "title": "BNEWIDUN02 Overall Monitoring Alert", "tooltip": {"shared": true, "sort": 0, "value_type": "individual"}, "type": "graph", "xaxis": {"buckets": null, "mode": "time", "name": null, "show": true, "values": []}, "yaxes": [{"$$hashKey": "object:63", "format": "short", "label": null, "logBase": 1, "max": null, "min": null, "show": true}, {"$$hashKey": "object:64", "format": "short", "label": null, "logBase": 1, "max": null, "min": null, "show": true}], "yaxis": {"align": false, "alignLevel": null}}, {"alert": {"alertRuleTags": {}, "conditions": [{"evaluator": {"params": [0], "type": "gt"}, "operator": {"type": "and"}, "query": {"params": ["Pods Failed", "5m", "now"]}, "reducer": {"params": [], "type": "avg"}, "type": "query"}, {"evaluator": {"params": [0], "type": "gt"}, "operator": {"type": "or"}, "query": {"params": ["Jobs Failed", "5m", "now"]}, "reducer": {"params": [], "type": "avg"}, "type": "query"}, {"evaluator": {"params": [0], "type": "gt"}, "operator": {"type": "or"}, "query": {"params": ["Deployment Replicaset Unavailable", "5m", "now"]}, "reducer": {"params": [], "type": "avg"}, "type": "query"}, {"evaluator": {"params": [0], "type": "gt"}, "operator": {"type": "or"}, "query": {"params": ["Nodes Unavailable", "5m", "now"]}, "reducer": {"params": [], "type": "avg"}, "type": "query"}, {"evaluator": {"params": [0], "type": "gt"}, "operator": {"type": "or"}, "query": {"params": ["Running PVCs Above 70%", "5m", "now"]}, "reducer": {"params": [], "type": "avg"}, "type": "query"}], "executionErrorState": "alerting", "for": "5m", "frequency": "1m", "handler": 1, "message": "BNEWIDUN03 Overall Monitoring Alert Failure", "name": "BNEWIDUN03 Overall Monitoring Alert", "noDataState": "alerting", "notifications": [{"uid": "7uATNlDnz"}, {"uid": "R3h45GH7z"}]}, "aliasColors": {}, "bars": false, "dashLength": 10, "dashes": false, "datasource": "bnewidun03", "description": "BNEWIDUN03 Alert Dashboard for pods failed, jobs failed, deployment_replicas unavailable, nodes unavailable in the namespace ossbnew03 and running pvc's above 70% for the environment BNEW03", "fieldConfig": {"defaults": {"unit": "short"}, "overrides": []}, "fill": 1, "fillGradient": 0, "gridPos": {"h": 9, "w": 12, "x": 0, "y": 9}, "hiddenSeries": false, "id": 8, "legend": {"avg": false, "current": false, "max": false, "min": false, "show": true, "total": false, "values": false}, "lines": true, "linewidth": 1, "nullPointMode": "null", "options": {"alertThreshold": true}, "percentage": false, "pluginVersion": "8.1.3", "pointradius": 2, "points": false, "renderer": "flot", "seriesOverrides": [], "spaceLength": 10, "stack": false, "steppedLine": false, "targets": [{"exemplar": true, "expr": "sum(kube_pod_status_phase{namespace=~\"ossbnew03\", phase=\"Failed\"})", "interval": "", "legendFormat": "Pods Failed", "refId": "Pods Failed"}, {"exemplar": true, "expr": "sum(kube_job_status_failed{namespace=~\"ossbnew03\"})", "hide": false, "interval": "", "legendFormat": "Jobs Failed", "refId": "Jobs Failed"}, {"exemplar": true, "expr": "sum(kube_deployment_status_replicas_unavailable{namespace=~\"ossbnew03\"})", "hide": false, "interval": "", "legendFormat": "Deployment Replica Unavailable", "refId": "Deployment Replicaset Unavailable"}, {"exemplar": true, "expr": "sum(kube_node_spec_unschedulable{node=~\"ip-[0-9]{3}-[0-9]{2}-[0-9]{2}-[0-9]{1,3}.*\"})", "hide": false, "interval": "", "legendFormat": "Nodes Unavailable", "refId": "Nodes Unavailable"}, {"exemplar": true, "expr": "count (max by (persistentvolumeclaim,namespace) (kubelet_volume_stats_used_bytes ) and (max by (persistentvolumeclaim,namespace) (kubelet_volume_stats_used_bytes )) / (max by (persistentvolumeclaim,namespace) (kubelet_volume_stats_capacity_bytes )) >= (70 / 100)) or vector (0)", "hide": false, "interval": "", "legendFormat": "Running PVCs Above 70%   ", "refId": "Running PVCs Above 70%"}], "thresholds": [{"colorMode": "critical", "fill": true, "line": true, "op": "gt", "value": 0, "visible": true}], "timeFrom": null, "timeRegions": [], "timeShift": null, "title": "BNEWIDUN03 Overall Monitoring Alert", "tooltip": {"shared": true, "sort": 0, "value_type": "individual"}, "type": "graph", "xaxis": {"buckets": null, "mode": "time", "name": null, "show": true, "values": []}, "yaxes": [{"$$hashKey": "object:63", "format": "short", "label": null, "logBase": 1, "max": null, "min": null, "show": true}, {"$$hashKey": "object:64", "format": "short", "label": null, "logBase": 1, "max": null, "min": null, "show": true}], "yaxis": {"align": false, "alignLevel": null}}, {"alert": {"alertRuleTags": {}, "conditions": [{"evaluator": {"params": [0], "type": "gt"}, "operator": {"type": "and"}, "query": {"params": ["Pods Failed", "5m", "now"]}, "reducer": {"params": [], "type": "avg"}, "type": "query"}, {"evaluator": {"params": [0], "type": "gt"}, "operator": {"type": "or"}, "query": {"params": ["Jobs Failed", "5m", "now"]}, "reducer": {"params": [], "type": "avg"}, "type": "query"}, {"evaluator": {"params": [0], "type": "gt"}, "operator": {"type": "or"}, "query": {"params": ["Deployment Replicaset Unavailable", "5m", "now"]}, "reducer": {"params": [], "type": "avg"}, "type": "query"}, {"evaluator": {"params": [0], "type": "gt"}, "operator": {"type": "or"}, "query": {"params": ["Nodes Unavailable", "5m", "now"]}, "reducer": {"params": [], "type": "avg"}, "type": "query"}, {"evaluator": {"params": [0], "type": "gt"}, "operator": {"type": "or"}, "query": {"params": ["Running PVCs Above 70%", "5m", "now"]}, "reducer": {"params": [], "type": "avg"}, "type": "query"}], "executionErrorState": "alerting", "for": "5m", "frequency": "1m", "handler": 1, "message": "Openlab Overall Monitoring Alert Failure", "name": "OPENLAB01 Overall Monitoring Alert alert", "noDataState": "alerting", "notifications": [{"uid": "R3h45GH7z"}, {"uid": "7uATNlDnz"}]}, "aliasColors": {}, "bars": false, "dashLength": 10, "dashes": false, "datasource": "openlab01", "description": "OPENLAB01 Alert Dashboard for pods failed, jobs failed, deployment_replicas unavailable, nodes unavailable in the namespace oss and running pvc's above 70% for the environment BNEW01 ", "fieldConfig": {"defaults": {"unit": "short"}, "overrides": []}, "fill": 1, "fillGradient": 0, "gridPos": {"h": 9, "w": 12, "x": 12, "y": 9}, "hiddenSeries": false, "id": 9, "legend": {"avg": false, "current": false, "max": false, "min": false, "show": true, "total": false, "values": false}, "lines": true, "linewidth": 1, "nullPointMode": "null", "options": {"alertThreshold": true}, "percentage": false, "pluginVersion": "8.1.3", "pointradius": 2, "points": false, "renderer": "flot", "seriesOverrides": [], "spaceLength": 10, "stack": false, "steppedLine": false, "targets": [{"exemplar": true, "expr": "sum(kube_pod_status_phase{namespace=~\"idunopenlab01\", phase=\"Failed\", pod!~\"eric-data-search-engine-curator.+\"})", "interval": "", "legendFormat": "Pods Failed", "refId": "Pods Failed"}, {"exemplar": true, "expr": "sum(kube_job_status_failed{namespace=~\"idunopenlab01\", job_name!~\"eric-data-search-engine-curator.+\"})", "hide": false, "interval": "", "legendFormat": "Jobs Failed", "refId": "Jobs Failed"}, {"exemplar": true, "expr": "sum(kube_deployment_status_replicas_unavailable{namespace=~\"idunopenlab01\"})", "hide": false, "interval": "", "legendFormat": "Deployment Replica Unavailable", "refId": "Deployment Replicaset Unavailable"}, {"exemplar": true, "expr": "sum(kube_node_spec_unschedulable{node=~\"ip-[0-9]{3}-[0-9]{2}-[0-9]{1,3}-[0-9]{1,3}.*\"})", "hide": false, "interval": "", "legendFormat": "Nodes Unavailable", "refId": "Nodes Unavailable"}, {"exemplar": true, "expr": "count (max by (persistentvolumeclaim,namespace) (kubelet_volume_stats_used_bytes ) and (max by (persistentvolumeclaim,namespace) (kubelet_volume_stats_used_bytes )) / (max by (persistentvolumeclaim,namespace) (kubelet_volume_stats_capacity_bytes )) >= (70 / 100)) or vector (0)", "hide": false, "interval": "", "legendFormat": "Running PVCs Above 70%   ", "refId": "Running PVCs Above 70%"}], "thresholds": [{"colorMode": "critical", "fill": true, "line": true, "op": "gt", "value": 0, "visible": true}], "timeFrom": null, "timeRegions": [], "timeShift": null, "title": "OPENLAB01 Overall Monitoring Alert", "tooltip": {"shared": true, "sort": 0, "value_type": "individual"}, "type": "graph", "xaxis": {"buckets": null, "mode": "time", "name": null, "show": true, "values": []}, "yaxes": [{"$$hashKey": "object:63", "format": "short", "label": null, "logBase": 1, "max": null, "min": null, "show": true}, {"$$hashKey": "object:64", "format": "short", "label": null, "logBase": 1, "max": null, "min": null, "show": true}], "yaxis": {"align": false, "alignLevel": null}}, {"alert": {"alertRuleTags": {}, "conditions": [{"evaluator": {"params": [0], "type": "gt"}, "operator": {"type": "and"}, "query": {"params": ["Pods Failed", "5m", "now"]}, "reducer": {"params": [], "type": "avg"}, "type": "query"}, {"evaluator": {"params": [0], "type": "gt"}, "operator": {"type": "or"}, "query": {"params": ["Jobs Failed", "5m", "now"]}, "reducer": {"params": [], "type": "avg"}, "type": "query"}, {"evaluator": {"params": [0], "type": "gt"}, "operator": {"type": "or"}, "query": {"params": ["Deployment Replicaset Unavailable", "5m", "now"]}, "reducer": {"params": [], "type": "avg"}, "type": "query"}, {"evaluator": {"params": [0], "type": "gt"}, "operator": {"type": "or"}, "query": {"params": ["Nodes Unavailable", "5m", "now"]}, "reducer": {"params": [], "type": "avg"}, "type": "query"}, {"evaluator": {"params": [0], "type": "gt"}, "operator": {"type": "or"}, "query": {"params": ["Running PVCs Above 70%", "5m", "now"]}, "reducer": {"params": [], "type": "avg"}, "type": "query"}], "executionErrorState": "alerting", "for": "5m", "frequency": "1m", "handler": 1, "message": "CRANSCO01 Overall Monitoring Alert Failure", "name": "CRANSCOEIAP01 Overall Monitoring Alert alert", "noDataState": "alerting", "notifications": [{"uid": "7uATNlDnz"}]}, "aliasColors": {}, "bars": false, "dashLength": 10, "dashes": false, "datasource": "cranscoeiap01", "description": "CRANSCOEIAP01 Alert Dashboard for pods failed, jobs failed, deployment_replicas unavailable, nodes unavailable in the namespace osscransco01 and running pvc's above 70% for the environment ", "fieldConfig": {"defaults": {"unit": "short"}, "overrides": []}, "fill": 1, "fillGradient": 0, "gridPos": {"h": 9, "w": 12, "x": 0, "y": 18}, "hiddenSeries": false, "id": 14, "legend": {"avg": false, "current": false, "max": false, "min": false, "show": true, "total": false, "values": false}, "lines": true, "linewidth": 1, "nullPointMode": "null", "options": {"alertThreshold": true}, "percentage": false, "pluginVersion": "8.1.3", "pointradius": 2, "points": false, "renderer": "flot", "seriesOverrides": [], "spaceLength": 10, "stack": false, "steppedLine": false, "targets": [{"exemplar": true, "expr": "sum(kube_pod_status_phase{namespace=~\"osscransco01\", phase=\"Failed\"})", "interval": "", "legendFormat": "Pods Failed", "refId": "Pods Failed"}, {"exemplar": true, "expr": "sum(kube_job_status_failed{namespace=~\"osscransco01\"})", "hide": false, "interval": "", "legendFormat": "Jobs Failed", "refId": "Jobs Failed"}, {"exemplar": true, "expr": "sum(kube_deployment_status_replicas_unavailable{namespace=~\"osscransco01\"})", "hide": false, "interval": "", "legendFormat": "Deployment Replica Unavailable", "refId": "Deployment Replicaset Unavailable"}, {"exemplar": true, "expr": "sum(kube_node_spec_unschedulable{node=~\"ip-[0-9]{3}-[0-9]{2}-[0-9]{3}-[0-9]{1,3}.*\"})", "hide": false, "interval": "", "legendFormat": "Nodes Unavailable", "refId": "Nodes Unavailable"}, {"exemplar": true, "expr": "count (max by (persistentvolumeclaim,namespace) (kubelet_volume_stats_used_bytes ) and (max by (persistentvolumeclaim,namespace) (kubelet_volume_stats_used_bytes )) / (max by (persistentvolumeclaim,namespace) (kubelet_volume_stats_capacity_bytes )) >= (71 / 100)) or vector (0)", "hide": false, "interval": "", "legendFormat": "Running PVCs Above 70%", "refId": "Running PVCs Above 70%"}], "thresholds": [{"colorMode": "critical", "fill": true, "line": true, "op": "gt", "value": 0, "visible": true}], "timeFrom": null, "timeRegions": [], "timeShift": null, "title": "CRANSCOEIAP01 Overall Monitoring Alert", "tooltip": {"shared": true, "sort": 0, "value_type": "individual"}, "type": "graph", "xaxis": {"buckets": null, "mode": "time", "name": null, "show": true, "values": []}, "yaxes": [{"$$hashKey": "object:63", "format": "short", "label": null, "logBase": 1, "max": null, "min": null, "show": true}, {"$$hashKey": "object:64", "format": "short", "label": null, "logBase": 1, "max": null, "min": null, "show": true}], "yaxis": {"align": false, "alignLevel": null}}, {"alert": {"alertRuleTags": {}, "conditions": [{"evaluator": {"params": [0], "type": "gt"}, "operator": {"type": "and"}, "query": {"params": ["Pods Failed", "5m", "now"]}, "reducer": {"params": [], "type": "avg"}, "type": "query"}, {"evaluator": {"params": [0], "type": "gt"}, "operator": {"type": "or"}, "query": {"params": ["Jobs Failed", "5m", "now"]}, "reducer": {"params": [], "type": "avg"}, "type": "query"}, {"evaluator": {"params": [0], "type": "gt"}, "operator": {"type": "or"}, "query": {"params": ["Deployment Replicaset Unavailable", "5m", "now"]}, "reducer": {"params": [], "type": "avg"}, "type": "query"}, {"evaluator": {"params": [0], "type": "gt"}, "operator": {"type": "or"}, "query": {"params": ["Nodes Unavailable", "5m", "now"]}, "reducer": {"params": [], "type": "avg"}, "type": "query"}, {"evaluator": {"params": [0], "type": "gt"}, "operator": {"type": "or"}, "query": {"params": ["Running PVCs Above 70%", "5m", "now"]}, "reducer": {"params": [], "type": "avg"}, "type": "query"}], "executionErrorState": "alerting", "for": "5m", "frequency": "1m", "handler": 1, "message": "OSSAUTOAPP01 Overall Monitoring Alert Failure", "name": "OSSAUTOAPP01 Overall Monitoring Alert", "noDataState": "alerting", "notifications": [{"uid": "7uATNlDnz"}, {"uid": "R3h45GH7z"}]}, "aliasColors": {}, "bars": false, "dashLength": 10, "dashes": false, "datasource": "ossautoapp01", "description": "OSSAUTOAPP01 Overall Monioring Alert for Pods failed, jobs failed, deployment_replicas unavailable, nodes unavailable in the namespace idunossautoapp01 and running pvc's above 70% for the environment OSSAUTOAPP01 ", "fieldConfig": {"defaults": {"unit": "short"}, "overrides": []}, "fill": 1, "fillGradient": 0, "gridPos": {"h": 9, "w": 12, "x": 12, "y": 18}, "hiddenSeries": false, "id": 2, "legend": {"avg": false, "current": false, "max": false, "min": false, "show": true, "total": false, "values": false}, "lines": true, "linewidth": 1, "nullPointMode": "null", "options": {"alertThreshold": true}, "percentage": false, "pluginVersion": "8.1.3", "pointradius": 2, "points": false, "renderer": "flot", "seriesOverrides": [], "spaceLength": 10, "stack": false, "steppedLine": false, "targets": [{"exemplar": true, "expr": "sum(kube_pod_status_phase{namespace=~\"idunossautoapp01\", phase=\"Failed\"})", "interval": "", "legendFormat": "Pods Failed", "refId": "Pods Failed"}, {"exemplar": true, "expr": "sum(kube_job_status_failed{namespace=~\"idunossautoapp01\"})", "hide": false, "interval": "", "legendFormat": "Jobs Failed", "refId": "Jobs Failed"}, {"exemplar": true, "expr": "sum(kube_deployment_status_replicas_unavailable{namespace=~\"idunossautoapp01\"})", "hide": false, "interval": "", "legendFormat": "Deployment Replica Unavailable", "refId": "Deployment Replicaset Unavailable"}, {"exemplar": true, "expr": "sum(kube_node_spec_unschedulable{node=~\"ip-[0-9]{3}-[0-9]{2}-[0-9]{3}-[0-9]{1,3}.*\"})", "hide": false, "interval": "", "legendFormat": "Nodes Unavailable", "refId": "Nodes Unavailable"}, {"exemplar": true, "expr": "count (max by (persistentvolumeclaim,namespace) (kubelet_volume_stats_used_bytes ) and (max by (persistentvolumeclaim,namespace) (kubelet_volume_stats_used_bytes )) / (max by (persistentvolumeclaim,namespace) (kubelet_volume_stats_capacity_bytes )) >= (70 / 100)) or vector (0)", "hide": false, "interval": "", "legendFormat": "Running PVCs Above 70%", "refId": "Running PVCs Above 70%"}], "thresholds": [{"colorMode": "critical", "fill": true, "line": true, "op": "gt", "value": 0, "visible": true}], "timeFrom": null, "timeRegions": [], "timeShift": null, "title": "OSSAUTOAPP01 Overall Monioring Alert", "tooltip": {"shared": true, "sort": 0, "value_type": "individual"}, "type": "graph", "xaxis": {"buckets": null, "mode": "time", "name": null, "show": true, "values": []}, "yaxes": [{"$$hashKey": "object:63", "format": "short", "label": null, "logBase": 1, "max": null, "min": null, "show": true}, {"$$hashKey": "object:64", "format": "short", "label": null, "logBase": 1, "max": null, "min": null, "show": true}], "yaxis": {"align": false, "alignLevel": null}}, {"alert": {"alertRuleTags": {}, "conditions": [{"evaluator": {"params": [0], "type": "gt"}, "operator": {"type": "and"}, "query": {"params": ["Pods Failed", "5m", "now"]}, "reducer": {"params": [], "type": "avg"}, "type": "query"}, {"evaluator": {"params": [0], "type": "gt"}, "operator": {"type": "or"}, "query": {"params": ["Jobs Failed", "5m", "now"]}, "reducer": {"params": [], "type": "avg"}, "type": "query"}, {"evaluator": {"params": [0], "type": "gt"}, "operator": {"type": "or"}, "query": {"params": ["Deployment Replicaset Unavailable", "5m", "now"]}, "reducer": {"params": [], "type": "avg"}, "type": "query"}, {"evaluator": {"params": [0], "type": "gt"}, "operator": {"type": "or"}, "query": {"params": ["Nodes Unavailable", "5m", "now"]}, "reducer": {"params": [], "type": "avg"}, "type": "query"}, {"evaluator": {"params": [0], "type": "gt"}, "operator": {"type": "or"}, "query": {"params": ["Running PVCs Above 70%", "5m", "now"]}, "reducer": {"params": [], "type": "avg"}, "type": "query"}, {"evaluator": {"params": [0], "type": "gt"}, "operator": {"type": "or"}, "query": {"params": ["Cert Expiry within 7d", "5m", "now"]}, "reducer": {"params": [], "type": "avg"}, "type": "query"}, {"evaluator": {"params": [0], "type": "gt"}, "operator": {"type": "or"}, "query": {"params": ["Cert Expiry within 30d", "5m", "now"]}, "reducer": {"params": [], "type": "avg"}, "type": "query"}], "executionErrorState": "alerting", "for": "5m", "frequency": "1m", "handler": 1, "message": "BMASIDUN01 Overall Monitoring Alert Failure", "name": "BMASIDUN01 Overall Monitoring Alert alert", "noDataState": "alerting", "notifications": [{"uid": "7uATNlDnz"}, {"uid": "R3h45GH7z"}]}, "aliasColors": {}, "bars": false, "dashLength": 10, "dashes": false, "datasource": "bmasidun01", "description": "BMASIDUN01 Alert Dashboard for pods failed, jobs failed, deployment_replicas unavailable, nodes unavailable in the namespace ossbmas01 and running pvc's above 70% for the environment BMAS01", "fieldConfig": {"defaults": {"unit": "short"}, "overrides": []}, "fill": 1, "fillGradient": 0, "gridPos": {"h": 9, "w": 12, "x": 0, "y": 27}, "hiddenSeries": false, "id": 13, "legend": {"avg": false, "current": false, "max": false, "min": false, "show": true, "total": false, "values": false}, "lines": true, "linewidth": 1, "nullPointMode": "null", "options": {"alertThreshold": true}, "percentage": false, "pluginVersion": "8.1.3", "pointradius": 2, "points": false, "renderer": "flot", "seriesOverrides": [], "spaceLength": 10, "stack": false, "steppedLine": false, "targets": [{"exemplar": true, "expr": "sum(kube_pod_status_phase{namespace=~\"ossbmas01\", phase=\"Failed\"})", "interval": "", "legendFormat": "Pods Failed", "refId": "Pods Failed"}, {"exemplar": true, "expr": "sum(kube_job_status_failed{namespace=~\"ossbmas01\"})", "hide": false, "interval": "", "legendFormat": "Jobs Failed", "refId": "Jobs Failed"}, {"exemplar": true, "expr": "sum(kube_deployment_status_replicas_unavailable{namespace=~\"ossbmas01\"})", "hide": false, "interval": "", "legendFormat": "Deployment Replica Unavailable", "refId": "Deployment Replicaset Unavailable"}, {"exemplar": true, "expr": "sum(kube_node_spec_unschedulable{node=~\"ip-[0-9]{3}-[0-9]{2}-[0-9]{2}-[0-9]{1,3}.*\"})", "hide": false, "interval": "", "legendFormat": "Nodes Unavailable", "refId": "Nodes Unavailable"}, {"exemplar": true, "expr": "count (max by (persistentvolumeclaim,namespace) (kubelet_volume_stats_used_bytes ) and (max by (persistentvolumeclaim,namespace) (kubelet_volume_stats_used_bytes )) / (max by (persistentvolumeclaim,namespace) (kubelet_volume_stats_capacity_bytes )) >= (70 / 100)) or vector (0)", "hide": false, "interval": "", "legendFormat": "Running PVCs Above 70%   ", "refId": "Running PVCs Above 70%"}, {"exemplar": true, "expr": "sum(0 < ((x509_cert_not_after{job=\"certificates-exporter\", subject_O=~\"Ericsson.*\"} - time()) / 86400) < bool 7)", "hide": false, "interval": "", "legendFormat": "Certificates expiring within 7 days", "refId": "Cert Expiry within 7d"}, {"exemplar": true, "expr": "sum(0 < ((x509_cert_not_after{job=\"certificates-exporter\", subject_O=~\"Ericsson.*\"} - time()) / 86400) < bool 30)", "hide": false, "interval": "", "legendFormat": "Certificates expiring within 30 days", "refId": "Cert Expiry within 30d"}], "thresholds": [{"colorMode": "critical", "fill": true, "line": true, "op": "gt", "value": 0, "visible": true}], "timeFrom": null, "timeRegions": [], "timeShift": null, "title": "BMASIDUN01 Overall Monitoring Alert", "tooltip": {"shared": true, "sort": 0, "value_type": "individual"}, "type": "graph", "xaxis": {"buckets": null, "mode": "time", "name": null, "show": true, "values": []}, "yaxes": [{"$$hashKey": "object:63", "format": "short", "label": null, "logBase": 1, "max": null, "min": null, "show": true}, {"$$hashKey": "object:64", "format": "short", "label": null, "logBase": 1, "max": null, "min": null, "show": true}], "yaxis": {"align": false, "alignLevel": null}}, {"alert": {"alertRuleTags": {}, "conditions": [{"evaluator": {"params": [0], "type": "gt"}, "operator": {"type": "and"}, "query": {"params": ["Pods Failed", "5m", "now"]}, "reducer": {"params": [], "type": "avg"}, "type": "query"}, {"evaluator": {"params": [0], "type": "gt"}, "operator": {"type": "or"}, "query": {"params": ["Jobs Failed", "5m", "now"]}, "reducer": {"params": [], "type": "avg"}, "type": "query"}, {"evaluator": {"params": [0], "type": "gt"}, "operator": {"type": "or"}, "query": {"params": ["Deployment Replicaset Unavailable", "5m", "now"]}, "reducer": {"params": [], "type": "avg"}, "type": "query"}, {"evaluator": {"params": [0], "type": "gt"}, "operator": {"type": "or"}, "query": {"params": ["Nodes Unavailable", "5m", "now"]}, "reducer": {"params": [], "type": "avg"}, "type": "query"}, {"evaluator": {"params": [0], "type": "gt"}, "operator": {"type": "or"}, "query": {"params": ["Running PVCs Above 70%", "5m", "now"]}, "reducer": {"params": [], "type": "avg"}, "type": "query"}], "executionErrorState": "alerting", "for": "5m", "frequency": "1m", "handler": 1, "message": "Viavi Overall Monitoring Alert", "name": "VIAVIEIAP01 Overall Monitoring Alert alert", "noDataState": "alerting", "notifications": [{"uid": "7uATNlDnz"}, {"uid": "R3h45GH7z"}]}, "aliasColors": {}, "bars": false, "dashLength": 10, "dashes": false, "datasource": "viavieiap01", "description": "VIAVIEIAP01 Alert Dashboard for pods failed, jobs failed, deployment_replicas unavailable, nodes unavailable in the namespace oss and running pvc's above 70% for the environment BNEW01 ", "fieldConfig": {"defaults": {"unit": "short"}, "overrides": []}, "fill": 1, "fillGradient": 0, "gridPos": {"h": 9, "w": 12, "x": 12, "y": 27}, "hiddenSeries": false, "id": 11, "legend": {"avg": false, "current": false, "max": false, "min": false, "show": true, "total": false, "values": false}, "lines": true, "linewidth": 1, "nullPointMode": "null", "options": {"alertThreshold": true}, "percentage": false, "pluginVersion": "8.1.3", "pointradius": 2, "points": false, "renderer": "flot", "seriesOverrides": [], "spaceLength": 10, "stack": false, "steppedLine": false, "targets": [{"exemplar": true, "expr": "sum(kube_pod_status_phase{namespace=~\"ossviavi01\", phase=\"Failed\"})", "interval": "", "legendFormat": "Pods Failed", "refId": "Pods Failed"}, {"exemplar": true, "expr": "sum(kube_job_status_failed{namespace=~\"ossviavi01\"})", "hide": false, "interval": "", "legendFormat": "Jobs Failed", "refId": "Jobs Failed"}, {"exemplar": true, "expr": "sum(kube_deployment_status_replicas_unavailable{namespace=~\"ossviavi01\"})", "hide": false, "interval": "", "legendFormat": "Deployment Replica Unavailable", "refId": "Deployment Replicaset Unavailable"}, {"exemplar": true, "expr": "sum(kube_node_spec_unschedulable{node=~\"ip-[0-9]{3}-[0-9]{2}-[0-9]{1,3}-[0-9]{1,3}.*\"})", "hide": false, "interval": "", "legendFormat": "Nodes Unavailable", "refId": "Nodes Unavailable"}, {"exemplar": true, "expr": "count (max by (persistentvolumeclaim,namespace) (kubelet_volume_stats_used_bytes ) and (max by (persistentvolumeclaim,namespace) (kubelet_volume_stats_used_bytes )) / (max by (persistentvolumeclaim,namespace) (kubelet_volume_stats_capacity_bytes )) >= (70 / 100)) or vector (0)", "hide": false, "interval": "", "legendFormat": "Running PVCs Above 70%   ", "refId": "Running PVCs Above 70%"}], "thresholds": [{"colorMode": "critical", "fill": true, "line": true, "op": "gt", "value": 0, "visible": true}], "timeFrom": null, "timeRegions": [], "timeShift": null, "title": "VIAVIEIAP01 Overall Monitoring Alert", "tooltip": {"shared": true, "sort": 0, "value_type": "individual"}, "type": "graph", "xaxis": {"buckets": null, "mode": "time", "name": null, "show": true, "values": []}, "yaxes": [{"$$hashKey": "object:63", "format": "short", "label": null, "logBase": 1, "max": null, "min": null, "show": true}, {"$$hashKey": "object:64", "format": "short", "label": null, "logBase": 1, "max": null, "min": null, "show": true}], "yaxis": {"align": false, "alignLevel": null}}, {"alert": {"alertRuleTags": {}, "conditions": [{"evaluator": {"params": [0], "type": "gt"}, "operator": {"type": "and"}, "query": {"params": ["Pods Failed", "5m", "now"]}, "reducer": {"params": [], "type": "avg"}, "type": "query"}, {"evaluator": {"params": [0], "type": "gt"}, "operator": {"type": "or"}, "query": {"params": ["Jobs Failed", "5m", "now"]}, "reducer": {"params": [], "type": "avg"}, "type": "query"}, {"evaluator": {"params": [0], "type": "gt"}, "operator": {"type": "or"}, "query": {"params": ["Deployment Replicaset Unavailable", "5m", "now"]}, "reducer": {"params": [], "type": "avg"}, "type": "query"}, {"evaluator": {"params": [0], "type": "gt"}, "operator": {"type": "or"}, "query": {"params": ["Nodes Unavailable", "5m", "now"]}, "reducer": {"params": [], "type": "avg"}, "type": "query"}, {"evaluator": {"params": [0], "type": "gt"}, "operator": {"type": "or"}, "query": {"params": ["Running PVCs Above 70%", "5m", "now"]}, "reducer": {"params": [], "type": "avg"}, "type": "query"}], "executionErrorState": "alerting", "for": "5m", "frequency": "1m", "handler": 1, "message": "ERNIDUN01 Overall Monitoring Alert Failure", "name": "ERNIDUN01 Overall Monitoring Alert", "noDataState": "alerting", "notifications": [{"uid": "R3h45GH7z"}, {"uid": "7uATNlDnz"}]}, "aliasColors": {}, "bars": false, "dashLength": 10, "dashes": false, "datasource": "ernidun01", "description": "ERNIDUN01 Alert Dashboard for pods failed, jobs failed, deployment_replicas unavailable, nodes unavailable in the namespace ossern01 and running pvc's above 70% for the environment ERN01 ", "fieldConfig": {"defaults": {"unit": "short"}, "overrides": []}, "fill": 1, "fillGradient": 0, "gridPos": {"h": 9, "w": 12, "x": 0, "y": 36}, "hiddenSeries": false, "id": 7, "legend": {"avg": false, "current": false, "max": false, "min": false, "show": true, "total": false, "values": false}, "lines": true, "linewidth": 1, "nullPointMode": "null", "options": {"alertThreshold": true}, "percentage": false, "pluginVersion": "8.1.3", "pointradius": 2, "points": false, "renderer": "flot", "seriesOverrides": [], "spaceLength": 10, "stack": false, "steppedLine": false, "targets": [{"exemplar": true, "expr": "sum(kube_pod_status_phase{namespace=~\"ossern01\", phase=\"Failed\"})", "interval": "", "legendFormat": "Pods Failed", "refId": "Pods Failed"}, {"exemplar": true, "expr": "sum(kube_job_status_failed{namespace=~\"ossern01\"})", "hide": false, "interval": "", "legendFormat": "Jobs Failed", "refId": "Jobs Failed"}, {"exemplar": true, "expr": "sum(kube_deployment_status_replicas_unavailable{namespace=~\"ossern01\"})", "hide": false, "interval": "", "legendFormat": "Deployment Replica Unavailable", "refId": "Deployment Replicaset Unavailable"}, {"exemplar": true, "expr": "sum(kube_node_spec_unschedulable{node=~\"ip-[0-9]{3}-[0-9]{2}-[0-9]{2}-[0-9]{1,3}.*\"})", "hide": false, "interval": "", "legendFormat": "Nodes Unavailable", "refId": "Nodes Unavailable"}, {"exemplar": true, "expr": "count (max by (persistentvolumeclaim,namespace) (kubelet_volume_stats_used_bytes ) and (max by (persistentvolumeclaim,namespace) (kubelet_volume_stats_used_bytes )) / (max by (persistentvolumeclaim,namespace) (kubelet_volume_stats_capacity_bytes )) >= (70 / 100)) or vector (0)", "hide": false, "interval": "", "legendFormat": "Running PVCs Above 70%   ", "refId": "Running PVCs Above 70%"}], "thresholds": [{"colorMode": "critical", "fill": true, "line": true, "op": "gt", "value": 0, "visible": true}], "timeFrom": null, "timeRegions": [], "timeShift": null, "title": "ERNIDUN01 Overall Monitoring Alert", "tooltip": {"shared": true, "sort": 0, "value_type": "individual"}, "type": "graph", "xaxis": {"buckets": null, "mode": "time", "name": null, "show": true, "values": []}, "yaxes": [{"$$hashKey": "object:63", "format": "short", "label": null, "logBase": 1, "max": null, "min": null, "show": true}, {"$$hashKey": "object:64", "format": "short", "label": null, "logBase": 1, "max": null, "min": null, "show": true}], "yaxis": {"align": false, "alignLevel": null}}, {"alert": {"alertRuleTags": {}, "conditions": [{"evaluator": {"params": [0], "type": "gt"}, "operator": {"type": "and"}, "query": {"params": ["Pods Failed", "5m", "now"]}, "reducer": {"params": [], "type": "avg"}, "type": "query"}, {"evaluator": {"params": [0], "type": "gt"}, "operator": {"type": "or"}, "query": {"params": ["Jobs Failed", "5m", "now"]}, "reducer": {"params": [], "type": "avg"}, "type": "query"}, {"evaluator": {"params": [0], "type": "gt"}, "operator": {"type": "or"}, "query": {"params": ["Deployment Replicaset Unavailable", "5m", "now"]}, "reducer": {"params": [], "type": "avg"}, "type": "query"}, {"evaluator": {"params": [0], "type": "gt"}, "operator": {"type": "or"}, "query": {"params": ["Nodes Unavailable", "5m", "now"]}, "reducer": {"params": [], "type": "avg"}, "type": "query"}, {"evaluator": {"params": [0], "type": "gt"}, "operator": {"type": "or"}, "query": {"params": ["Running PVCs Above 70%", "5m", "now"]}, "reducer": {"params": [], "type": "avg"}, "type": "query"}], "executionErrorState": "alerting", "for": "5m", "frequency": "1m", "handler": 1, "message": "Ecosystem Overall Monitoring Alert Failure", "name": "ECOSYSTEM01 Overall Monitoring Alert alert", "noDataState": "alerting", "notifications": [{"uid": "7uATNlDnz"}, {"uid": "R3h45GH7z"}]}, "aliasColors": {}, "bars": false, "dashLength": 10, "dashes": false, "datasource": "ecosystem01", "description": "ECOSYSTEM01 Alert Dashboard for pods failed, jobs failed, deployment_replicas unavailable, nodes unavailable in the namespace ossecos01 and running pvc's above 70% for the environment", "fieldConfig": {"defaults": {"unit": "short"}, "overrides": []}, "fill": 1, "fillGradient": 0, "gridPos": {"h": 9, "w": 12, "x": 12, "y": 36}, "hiddenSeries": false, "id": 12, "legend": {"avg": false, "current": false, "max": false, "min": false, "show": true, "total": false, "values": false}, "lines": true, "linewidth": 1, "nullPointMode": "null", "options": {"alertThreshold": true}, "percentage": false, "pluginVersion": "8.1.3", "pointradius": 2, "points": false, "renderer": "flot", "seriesOverrides": [], "spaceLength": 10, "stack": false, "steppedLine": false, "targets": [{"exemplar": true, "expr": "sum(kube_pod_status_phase{namespace=~\"ossecos01\", phase=\"Failed\"})", "interval": "", "legendFormat": "Pods Failed", "refId": "Pods Failed"}, {"exemplar": true, "expr": "sum(kube_job_status_failed{namespace=~\"ossecos01\"})", "hide": false, "interval": "", "legendFormat": "Jobs Failed", "refId": "Jobs Failed"}, {"exemplar": true, "expr": "sum(kube_deployment_status_replicas_unavailable{namespace=~\"ossecos01\"})", "hide": false, "interval": "", "legendFormat": "Deployment Replica Unavailable", "refId": "Deployment Replicaset Unavailable"}, {"exemplar": true, "expr": "sum(kube_node_spec_unschedulable{node=~\"ip-[0-9]{3}-[0-9]{2}-[0-9]{2}-[0-9]{1,3}.*\"})", "hide": false, "interval": "", "legendFormat": "Nodes Unavailable", "refId": "Nodes Unavailable"}, {"exemplar": true, "expr": "count (max by (persistentvolumeclaim,namespace) (kubelet_volume_stats_used_bytes ) and (max by (persistentvolumeclaim,namespace) (kubelet_volume_stats_used_bytes )) / (max by (persistentvolumeclaim,namespace) (kubelet_volume_stats_capacity_bytes )) >= (71 / 100)) or vector (0)", "hide": false, "interval": "", "legendFormat": "Running PVCs Above 70%", "refId": "Running PVCs Above 70%"}], "thresholds": [{"colorMode": "critical", "fill": true, "line": true, "op": "gt", "value": 0, "visible": true}], "timeFrom": null, "timeRegions": [], "timeShift": null, "title": "ECOSYSTEM01 Overall Monitoring Alert", "tooltip": {"shared": true, "sort": 0, "value_type": "individual"}, "type": "graph", "xaxis": {"buckets": null, "mode": "time", "name": null, "show": true, "values": []}, "yaxes": [{"$$hashKey": "object:63", "format": "short", "label": null, "logBase": 1, "max": null, "min": null, "show": true}, {"$$hashKey": "object:64", "format": "short", "label": null, "logBase": 1, "max": null, "min": null, "show": true}], "yaxis": {"align": false, "alignLevel": null}}, {"alert": {"alertRuleTags": {}, "conditions": [{"evaluator": {"params": [0], "type": "gt"}, "operator": {"type": "and"}, "query": {"params": ["Pods Failed", "5m", "now"]}, "reducer": {"params": [], "type": "avg"}, "type": "query"}, {"evaluator": {"params": [0], "type": "gt"}, "operator": {"type": "or"}, "query": {"params": ["Jobs Failed", "5m", "now"]}, "reducer": {"params": [], "type": "avg"}, "type": "query"}, {"evaluator": {"params": [0], "type": "gt"}, "operator": {"type": "or"}, "query": {"params": ["Deployment Replicaset Unavailable", "5m", "now"]}, "reducer": {"params": [], "type": "avg"}, "type": "query"}, {"evaluator": {"params": [0], "type": "gt"}, "operator": {"type": "or"}, "query": {"params": ["Nodes Unavailable", "5m", "now"]}, "reducer": {"params": [], "type": "avg"}, "type": "query"}, {"evaluator": {"params": [0], "type": "gt"}, "operator": {"type": "or"}, "query": {"params": ["Running PVCs Above 70%", "5m", "now"]}, "reducer": {"params": [], "type": "avg"}, "type": "query"}], "executionErrorState": "alerting", "for": "5m", "frequency": "1m", "handler": 1, "message": "PROTOTYPE01 Overall Monitoring Alert Failure", "name": "PROTOTYPE01 Overall Monitoring Alert", "noDataState": "alerting", "notifications": [{"uid": "7uATNlDnz"}, {"uid": "R3h45GH7z"}]}, "aliasColors": {}, "bars": false, "dashLength": 10, "dashes": false, "datasource": "prototype01", "description": "PROTOTYPE01 Alert Dashboard for pods failed, jobs failed, deployment_replicas unavailable, nodes unavailable in the namespace ossprototype01 and running pvc's above 70% for the environment", "fieldConfig": {"defaults": {"unit": "short"}, "overrides": []}, "fill": 1, "fillGradient": 0, "gridPos": {"h": 9, "w": 12, "x": 0, "y": 45}, "hiddenSeries": false, "id": 5, "legend": {"avg": false, "current": false, "max": false, "min": false, "show": true, "total": false, "values": false}, "lines": true, "linewidth": 1, "nullPointMode": "null", "options": {"alertThreshold": true}, "percentage": false, "pluginVersion": "8.1.3", "pointradius": 2, "points": false, "renderer": "flot", "seriesOverrides": [], "spaceLength": 10, "stack": false, "steppedLine": false, "targets": [{"exemplar": true, "expr": "sum(kube_pod_status_phase{namespace=~\"ossprototype01\", phase=\"Failed\"})", "interval": "", "legendFormat": "Pods Failed", "refId": "Pods Failed"}, {"exemplar": true, "expr": "sum(kube_job_status_failed{namespace=~\"ossprototype01\"})", "hide": false, "interval": "", "legendFormat": "Jobs Failed", "refId": "Jobs Failed"}, {"exemplar": true, "expr": "sum(kube_deployment_status_replicas_unavailable{namespace=~\"ossprototype01\"})", "hide": false, "interval": "", "legendFormat": "Deployment Replica Unavailable", "refId": "Deployment Replicaset Unavailable"}, {"exemplar": true, "expr": "sum(kube_node_spec_unschedulable{node=~\"ip-[0-9]{3}-[0-9]{2}-[0-9]{2}-[0-9]{1,3}.*\"})", "hide": false, "interval": "", "legendFormat": "Nodes Unavailable", "refId": "Nodes Unavailable"}, {"exemplar": true, "expr": "count (max by (persistentvolumeclaim,namespace) (kubelet_volume_stats_used_bytes ) and (max by (persistentvolumeclaim,namespace) (kubelet_volume_stats_used_bytes )) / (max by (persistentvolumeclaim,namespace) (kubelet_volume_stats_capacity_bytes )) >= (70 / 100)) or vector (0)", "hide": false, "interval": "", "legendFormat": "Running PVCs Above 70%", "refId": "Running PVCs Above 70%"}], "thresholds": [{"colorMode": "critical", "fill": true, "line": true, "op": "gt", "value": 0, "visible": true}], "timeFrom": null, "timeRegions": [], "timeShift": null, "title": "PROTOTYPE01 Overall Monitoring Alert", "tooltip": {"shared": true, "sort": 0, "value_type": "individual"}, "type": "graph", "xaxis": {"buckets": null, "mode": "time", "name": null, "show": true, "values": []}, "yaxes": [{"$$hashKey": "object:63", "format": "short", "label": null, "logBase": 1, "max": null, "min": null, "show": true}, {"$$hashKey": "object:64", "format": "short", "label": null, "logBase": 1, "max": null, "min": null, "show": true}], "yaxis": {"align": false, "alignLevel": null}}], "refresh": "", "schemaVersion": 30, "style": "dark", "tags": [], "templating": {"list": []}, "time": {"from": "now-6h", "to": "now"}, "timepicker": {}, "timezone": "", "title": "IDUN aaS Overall Monitoring Alert Dashboard", "uid": "RDNvn_Dnz", "version": 385}