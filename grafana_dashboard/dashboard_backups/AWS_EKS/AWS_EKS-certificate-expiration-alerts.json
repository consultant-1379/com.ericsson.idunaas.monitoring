{"annotations": {"list": [{"builtIn": 1, "datasource": "-- Grafana --", "enable": true, "hide": true, "iconColor": "rgba(0, 211, 255, 1)", "name": "Annotations & Alerts", "target": {"limit": 100, "matchAny": false, "tags": [], "type": "dashboard"}, "type": "dashboard"}]}, "editable": true, "gnetId": null, "graphTooltip": 0, "id": 192, "links": [], "panels": [{"alert": {"alertRuleTags": {}, "conditions": [{"evaluator": {"params": [0], "type": "gt"}, "operator": {"type": "and"}, "query": {"params": ["Cert Expiry within 7d", "5m", "now"]}, "reducer": {"params": [], "type": "avg"}, "type": "query"}, {"evaluator": {"params": [0], "type": "gt"}, "operator": {"type": "or"}, "query": {"params": ["Cert Expiry within 30d", "5m", "now"]}, "reducer": {"params": [], "type": "avg"}, "type": "query"}], "executionErrorState": "alerting", "for": "5m", "frequency": "1m", "handler": 1, "message": "BNEWIDUN01 Certificates are about to expire", "name": "BNEWIDUN01 Certificte Expiring Alert", "noDataState": "alerting", "notifications": [{"uid": "7uATNlDnz"}]}, "aliasColors": {}, "bars": false, "dashLength": 10, "dashes": false, "datasource": "bnewidun01", "description": "BNEWIDUN01 Alert Dashboard for pods failed, jobs failed, deployment_replicas unavailable, nodes unavailable in the namespace oss and running pvc's above 70% for the environment BNEW01 ", "fieldConfig": {"defaults": {"unit": "short"}, "overrides": []}, "fill": 1, "fillGradient": 0, "gridPos": {"h": 9, "w": 12, "x": 0, "y": 0}, "hiddenSeries": false, "id": 9, "legend": {"avg": false, "current": false, "max": false, "min": false, "show": true, "total": false, "values": false}, "lines": true, "linewidth": 1, "nullPointMode": "null", "options": {"alertThreshold": true}, "percentage": false, "pluginVersion": "8.1.3", "pointradius": 2, "points": false, "renderer": "flot", "seriesOverrides": [], "spaceLength": 10, "stack": false, "steppedLine": false, "targets": [{"exemplar": true, "expr": "sum(0 < ((x509_cert_not_after{job=\"certificates-exporter\", subject_O=~\"Ericsson.*\"} - time()) / 86400) < bool 7)", "hide": false, "interval": "", "legendFormat": "Certificate expiring within 7 days", "refId": "Cert Expiry within 7d"}, {"exemplar": true, "expr": "sum(0 < ((x509_cert_not_after{job=\"certificates-exporter\", subject_O=~\"Ericsson.*\"} - time()) / 86400) < bool 30)", "hide": false, "interval": "", "legendFormat": "Certificate expiring within 30 days", "refId": "Cert Expiry within 30d"}], "thresholds": [{"colorMode": "critical", "fill": true, "line": true, "op": "gt", "value": 0, "visible": true}], "timeFrom": null, "timeRegions": [], "timeShift": null, "title": "BNEWIDUN01 Certificte Expiring Alert", "tooltip": {"shared": true, "sort": 0, "value_type": "individual"}, "type": "graph", "xaxis": {"buckets": null, "mode": "time", "name": null, "show": true, "values": []}, "yaxes": [{"$$hashKey": "object:63", "format": "short", "label": null, "logBase": 1, "max": null, "min": null, "show": true}, {"$$hashKey": "object:64", "format": "short", "label": null, "logBase": 1, "max": null, "min": null, "show": true}], "yaxis": {"align": false, "alignLevel": null}}, {"alert": {"alertRuleTags": {}, "conditions": [{"evaluator": {"params": [0], "type": "gt"}, "operator": {"type": "and"}, "query": {"params": ["Cert Expiry within 7d", "5m", "now"]}, "reducer": {"params": [], "type": "avg"}, "type": "query"}, {"evaluator": {"params": [0], "type": "gt"}, "operator": {"type": "or"}, "query": {"params": ["Cert Expiry within 30d", "5m", "now"]}, "reducer": {"params": [], "type": "avg"}, "type": "query"}], "executionErrorState": "alerting", "for": "5m", "frequency": "1m", "handler": 1, "message": "BNEWIDUN02 Certificates are about to expire", "name": "BNEWIDUN02 Certificte Expiring Alert alert", "noDataState": "alerting", "notifications": [{"uid": "7uATNlDnz"}]}, "aliasColors": {}, "bars": false, "dashLength": 10, "dashes": false, "datasource": "bnewidun02", "description": "BNEWIDUN01 Alert Dashboard for pods failed, jobs failed, deployment_replicas unavailable, nodes unavailable in the namespace oss and running pvc's above 70% for the environment BNEW01 ", "fieldConfig": {"defaults": {"unit": "short"}, "overrides": []}, "fill": 1, "fillGradient": 0, "gridPos": {"h": 9, "w": 12, "x": 12, "y": 0}, "hiddenSeries": false, "id": 21, "legend": {"avg": false, "current": false, "max": false, "min": false, "show": true, "total": false, "values": false}, "lines": true, "linewidth": 1, "nullPointMode": "null", "options": {"alertThreshold": true}, "percentage": false, "pluginVersion": "8.1.3", "pointradius": 2, "points": false, "renderer": "flot", "seriesOverrides": [], "spaceLength": 10, "stack": false, "steppedLine": false, "targets": [{"exemplar": true, "expr": "sum(0 < ((x509_cert_not_after{job=\"certificates-exporter\", subject_O=~\"Ericsson.*\"} - time()) / 86400) < bool 7)", "hide": false, "interval": "", "legendFormat": "Certificate expiring within 7 days", "refId": "Cert Expiry within 7d"}, {"exemplar": true, "expr": "sum(0 < ((x509_cert_not_after{job=\"certificates-exporter\", subject_O=~\"Ericsson.*\"} - time()) / 86400) < bool 30)", "hide": false, "interval": "", "legendFormat": "Certificate expiring within 30 days", "refId": "Cert Expiry within 30d"}], "thresholds": [{"colorMode": "critical", "fill": true, "line": true, "op": "gt", "value": 0, "visible": true}], "timeFrom": null, "timeRegions": [], "timeShift": null, "title": "BNEWIDUN02 Certificte Expiring Alert", "tooltip": {"shared": true, "sort": 0, "value_type": "individual"}, "type": "graph", "xaxis": {"buckets": null, "mode": "time", "name": null, "show": true, "values": []}, "yaxes": [{"$$hashKey": "object:63", "format": "short", "label": null, "logBase": 1, "max": null, "min": null, "show": true}, {"$$hashKey": "object:64", "format": "short", "label": null, "logBase": 1, "max": null, "min": null, "show": true}], "yaxis": {"align": false, "alignLevel": null}}, {"alert": {"alertRuleTags": {}, "conditions": [{"evaluator": {"params": [0], "type": "gt"}, "operator": {"type": "and"}, "query": {"params": ["Cert Expiry within 7d", "5m", "now"]}, "reducer": {"params": [], "type": "avg"}, "type": "query"}, {"evaluator": {"params": [0], "type": "gt"}, "operator": {"type": "or"}, "query": {"params": ["Cert Expiry within 30d", "5m", "now"]}, "reducer": {"params": [], "type": "avg"}, "type": "query"}], "executionErrorState": "alerting", "for": "5m", "frequency": "1m", "handler": 1, "message": "BNEWIDUN03 Certificates are about to expire", "name": "BNEWIDUN03 Certificte Expiring Alert alert", "noDataState": "alerting", "notifications": [{"uid": "7uATNlDnz"}]}, "aliasColors": {}, "bars": false, "dashLength": 10, "dashes": false, "datasource": "bnewidun03", "description": "BNEWIDUN01 Alert Dashboard for pods failed, jobs failed, deployment_replicas unavailable, nodes unavailable in the namespace oss and running pvc's above 70% for the environment BNEW01 ", "fieldConfig": {"defaults": {"unit": "short"}, "overrides": []}, "fill": 1, "fillGradient": 0, "gridPos": {"h": 9, "w": 12, "x": 0, "y": 9}, "hiddenSeries": false, "id": 20, "legend": {"avg": false, "current": false, "max": false, "min": false, "show": true, "total": false, "values": false}, "lines": true, "linewidth": 1, "nullPointMode": "null", "options": {"alertThreshold": true}, "percentage": false, "pluginVersion": "8.1.3", "pointradius": 2, "points": false, "renderer": "flot", "seriesOverrides": [], "spaceLength": 10, "stack": false, "steppedLine": false, "targets": [{"exemplar": true, "expr": "sum(0 < ((x509_cert_not_after{job=\"certificates-exporter\", subject_O=~\"Ericsson.*\"} - time()) / 86400) < bool 7)", "hide": false, "interval": "", "legendFormat": "Certificate expiring within 7 days", "refId": "Cert Expiry within 7d"}, {"exemplar": true, "expr": "sum(0 < ((x509_cert_not_after{job=\"certificates-exporter\", subject_O=~\"Ericsson.*\"} - time()) / 86400) < bool 30)", "hide": false, "interval": "", "legendFormat": "Certificate expiring within 30 days", "refId": "Cert Expiry within 30d"}], "thresholds": [{"colorMode": "critical", "fill": true, "line": true, "op": "gt", "value": 0, "visible": true}], "timeFrom": null, "timeRegions": [], "timeShift": null, "title": "BNEWIDUN03 Certificte Expiring Alert", "tooltip": {"shared": true, "sort": 0, "value_type": "individual"}, "type": "graph", "xaxis": {"buckets": null, "mode": "time", "name": null, "show": true, "values": []}, "yaxes": [{"$$hashKey": "object:63", "format": "short", "label": null, "logBase": 1, "max": null, "min": null, "show": true}, {"$$hashKey": "object:64", "format": "short", "label": null, "logBase": 1, "max": null, "min": null, "show": true}], "yaxis": {"align": false, "alignLevel": null}}, {"alert": {"alertRuleTags": {}, "conditions": [{"evaluator": {"params": [0], "type": "gt"}, "operator": {"type": "and"}, "query": {"params": ["Cert Expiry within 7d", "5m", "now"]}, "reducer": {"params": [], "type": "avg"}, "type": "query"}, {"evaluator": {"params": [0], "type": "gt"}, "operator": {"type": "or"}, "query": {"params": ["Cert Expiry within 30d", "5m", "now"]}, "reducer": {"params": [], "type": "avg"}, "type": "query"}], "executionErrorState": "alerting", "for": "5m", "frequency": "1m", "handler": 1, "message": "OPENLAB01 Certificates are about to expire", "name": "OPENLAB01 Certificte Expiring Alert alert", "noDataState": "alerting", "notifications": [{"uid": "7uATNlDnz"}]}, "aliasColors": {}, "bars": false, "dashLength": 10, "dashes": false, "datasource": "openlab01", "description": "BNEWIDUN01 Alert Dashboard for pods failed, jobs failed, deployment_replicas unavailable, nodes unavailable in the namespace oss and running pvc's above 70% for the environment BNEW01 ", "fieldConfig": {"defaults": {"unit": "short"}, "overrides": []}, "fill": 1, "fillGradient": 0, "gridPos": {"h": 9, "w": 12, "x": 12, "y": 9}, "hiddenSeries": false, "id": 19, "legend": {"avg": false, "current": false, "max": false, "min": false, "show": true, "total": false, "values": false}, "lines": true, "linewidth": 1, "nullPointMode": "null", "options": {"alertThreshold": true}, "percentage": false, "pluginVersion": "8.1.3", "pointradius": 2, "points": false, "renderer": "flot", "seriesOverrides": [], "spaceLength": 10, "stack": false, "steppedLine": false, "targets": [{"exemplar": true, "expr": "sum(0 < ((x509_cert_not_after{job=\"certificates-exporter\", subject_O=~\"Ericsson.*\"} - time()) / 86400) < bool 7)", "hide": false, "interval": "", "legendFormat": "Certificate expiring within 7 days", "refId": "Cert Expiry within 7d"}, {"exemplar": true, "expr": "sum(0 < ((x509_cert_not_after{job=\"certificates-exporter\", subject_O=~\"Ericsson.*\"} - time()) / 86400) < bool 30)", "hide": false, "interval": "", "legendFormat": "Certificate expiring within 30 days", "refId": "Cert Expiry within 30d"}], "thresholds": [{"colorMode": "critical", "fill": true, "line": true, "op": "gt", "value": 0, "visible": true}], "timeFrom": null, "timeRegions": [], "timeShift": null, "title": "OPENLAB01 Certificte Expiring Alert", "tooltip": {"shared": true, "sort": 0, "value_type": "individual"}, "type": "graph", "xaxis": {"buckets": null, "mode": "time", "name": null, "show": true, "values": []}, "yaxes": [{"$$hashKey": "object:63", "format": "short", "label": null, "logBase": 1, "max": null, "min": null, "show": true}, {"$$hashKey": "object:64", "format": "short", "label": null, "logBase": 1, "max": null, "min": null, "show": true}], "yaxis": {"align": false, "alignLevel": null}}, {"alert": {"alertRuleTags": {}, "conditions": [{"evaluator": {"params": [0], "type": "gt"}, "operator": {"type": "and"}, "query": {"params": ["Cert Expiry within 7d", "5m", "now"]}, "reducer": {"params": [], "type": "avg"}, "type": "query"}, {"evaluator": {"params": [0], "type": "gt"}, "operator": {"type": "or"}, "query": {"params": ["Cert Expiry within 30d", "5m", "now"]}, "reducer": {"params": [], "type": "avg"}, "type": "query"}], "executionErrorState": "alerting", "for": "5m", "frequency": "1m", "handler": 1, "message": "CRANSCOEIAP01 Certificates are about to expire", "name": "CRANSCOEIAP01 Certificte Expiring Alert alert", "noDataState": "alerting", "notifications": [{"uid": "7uATNlDnz"}]}, "aliasColors": {}, "bars": false, "dashLength": 10, "dashes": false, "datasource": "cranscoeiap01", "description": "BNEWIDUN01 Alert Dashboard for pods failed, jobs failed, deployment_replicas unavailable, nodes unavailable in the namespace oss and running pvc's above 70% for the environment BNEW01 ", "fieldConfig": {"defaults": {"unit": "short"}, "overrides": []}, "fill": 1, "fillGradient": 0, "gridPos": {"h": 9, "w": 12, "x": 0, "y": 18}, "hiddenSeries": false, "id": 18, "legend": {"avg": false, "current": false, "max": false, "min": false, "show": true, "total": false, "values": false}, "lines": true, "linewidth": 1, "nullPointMode": "null", "options": {"alertThreshold": true}, "percentage": false, "pluginVersion": "8.1.3", "pointradius": 2, "points": false, "renderer": "flot", "seriesOverrides": [], "spaceLength": 10, "stack": false, "steppedLine": false, "targets": [{"exemplar": true, "expr": "sum(0 < ((x509_cert_not_after{job=\"certificates-exporter\", subject_O=~\"Ericsson.*\"} - time()) / 86400) < bool 7)", "hide": false, "interval": "", "legendFormat": "Certificate expiring within 7 days", "refId": "Cert Expiry within 7d"}, {"exemplar": true, "expr": "sum(0 < ((x509_cert_not_after{job=\"certificates-exporter\", subject_O=~\"Ericsson.*\"} - time()) / 86400) < bool 30)", "hide": false, "interval": "", "legendFormat": "Certificate expiring within 30 days", "refId": "Cert Expiry within 30d"}], "thresholds": [{"colorMode": "critical", "fill": true, "line": true, "op": "gt", "value": 0, "visible": true}], "timeFrom": null, "timeRegions": [], "timeShift": null, "title": "CRANSCOEIAP01 Certificte Expiring Alert", "tooltip": {"shared": true, "sort": 0, "value_type": "individual"}, "type": "graph", "xaxis": {"buckets": null, "mode": "time", "name": null, "show": true, "values": []}, "yaxes": [{"$$hashKey": "object:63", "format": "short", "label": null, "logBase": 1, "max": null, "min": null, "show": true}, {"$$hashKey": "object:64", "format": "short", "label": null, "logBase": 1, "max": null, "min": null, "show": true}], "yaxis": {"align": false, "alignLevel": null}}, {"alert": {"alertRuleTags": {}, "conditions": [{"evaluator": {"params": [0], "type": "gt"}, "operator": {"type": "and"}, "query": {"params": ["Cert Expiry within 7d", "5m", "now"]}, "reducer": {"params": [], "type": "avg"}, "type": "query"}, {"evaluator": {"params": [0], "type": "gt"}, "operator": {"type": "or"}, "query": {"params": ["Cert Expiry within 30d", "5m", "now"]}, "reducer": {"params": [], "type": "avg"}, "type": "query"}], "executionErrorState": "alerting", "for": "5m", "frequency": "1m", "handler": 1, "message": "OSSAUTOAPP01 Certificates are about to expire", "name": "OSSAUTOAPP01 Certificte Expiring Alert alert", "noDataState": "alerting", "notifications": [{"uid": "7uATNlDnz"}]}, "aliasColors": {}, "bars": false, "dashLength": 10, "dashes": false, "datasource": "ossautoapp01", "description": "BNEWIDUN01 Alert Dashboard for pods failed, jobs failed, deployment_replicas unavailable, nodes unavailable in the namespace oss and running pvc's above 70% for the environment BNEW01 ", "fieldConfig": {"defaults": {"unit": "short"}, "overrides": []}, "fill": 1, "fillGradient": 0, "gridPos": {"h": 9, "w": 12, "x": 12, "y": 18}, "hiddenSeries": false, "id": 17, "legend": {"avg": false, "current": false, "max": false, "min": false, "show": true, "total": false, "values": false}, "lines": true, "linewidth": 1, "nullPointMode": "null", "options": {"alertThreshold": true}, "percentage": false, "pluginVersion": "8.1.3", "pointradius": 2, "points": false, "renderer": "flot", "seriesOverrides": [], "spaceLength": 10, "stack": false, "steppedLine": false, "targets": [{"exemplar": true, "expr": "sum(0 < ((x509_cert_not_after{job=\"certificates-exporter\", subject_O=~\"Ericsson.*\"} - time()) / 86400) < bool 7)", "hide": false, "interval": "", "legendFormat": "Certificate expiring within 7 days", "refId": "Cert Expiry within 7d"}, {"exemplar": true, "expr": "sum(0 < ((x509_cert_not_after{job=\"certificates-exporter\", subject_O=~\"Ericsson.*\"} - time()) / 86400) < bool 30)", "hide": false, "interval": "", "legendFormat": "Certificate expiring within 30 days", "refId": "Cert Expiry within 30d"}], "thresholds": [{"colorMode": "critical", "fill": true, "line": true, "op": "gt", "value": 0, "visible": true}], "timeFrom": null, "timeRegions": [], "timeShift": null, "title": "OSSAUTOAPP01 Certificte Expiring Alert", "tooltip": {"shared": true, "sort": 0, "value_type": "individual"}, "type": "graph", "xaxis": {"buckets": null, "mode": "time", "name": null, "show": true, "values": []}, "yaxes": [{"$$hashKey": "object:63", "format": "short", "label": null, "logBase": 1, "max": null, "min": null, "show": true}, {"$$hashKey": "object:64", "format": "short", "label": null, "logBase": 1, "max": null, "min": null, "show": true}], "yaxis": {"align": false, "alignLevel": null}}, {"alert": {"alertRuleTags": {}, "conditions": [{"evaluator": {"params": [0], "type": "gt"}, "operator": {"type": "and"}, "query": {"params": ["Cert Expiry within 7d", "5m", "now"]}, "reducer": {"params": [], "type": "avg"}, "type": "query"}, {"evaluator": {"params": [0], "type": "gt"}, "operator": {"type": "or"}, "query": {"params": ["Cert Expiry within 30d", "5m", "now"]}, "reducer": {"params": [], "type": "avg"}, "type": "query"}], "executionErrorState": "alerting", "for": "5m", "frequency": "1m", "handler": 1, "message": "BMASIDUN01 Certificates are about to expire", "name": "BMASIDUN01 Certificte Expiring Alert alert", "noDataState": "alerting", "notifications": [{"uid": "7uATNlDnz"}]}, "aliasColors": {}, "bars": false, "dashLength": 10, "dashes": false, "datasource": "bmasidun01", "description": "BNEWIDUN01 Alert Dashboard for pods failed, jobs failed, deployment_replicas unavailable, nodes unavailable in the namespace oss and running pvc's above 70% for the environment BNEW01 ", "fieldConfig": {"defaults": {"unit": "short"}, "overrides": []}, "fill": 1, "fillGradient": 0, "gridPos": {"h": 9, "w": 12, "x": 0, "y": 27}, "hiddenSeries": false, "id": 16, "legend": {"avg": false, "current": false, "max": false, "min": false, "show": true, "total": false, "values": false}, "lines": true, "linewidth": 1, "nullPointMode": "null", "options": {"alertThreshold": true}, "percentage": false, "pluginVersion": "8.1.3", "pointradius": 2, "points": false, "renderer": "flot", "seriesOverrides": [], "spaceLength": 10, "stack": false, "steppedLine": false, "targets": [{"exemplar": true, "expr": "sum(0 < ((x509_cert_not_after{job=\"certificates-exporter\", subject_O=~\"Ericsson.*\"} - time()) / 86400) < bool 7)", "hide": false, "interval": "", "legendFormat": "Certificate expiring within 7 days", "refId": "Cert Expiry within 7d"}, {"exemplar": true, "expr": "sum(0 < ((x509_cert_not_after{job=\"certificates-exporter\", subject_O=~\"Ericsson.*\"} - time()) / 86400) < bool 30)", "hide": false, "interval": "", "legendFormat": "Certificate expiring within 30 days", "refId": "Cert Expiry within 30d"}], "thresholds": [{"colorMode": "critical", "fill": true, "line": true, "op": "gt", "value": 0, "visible": true}], "timeFrom": null, "timeRegions": [], "timeShift": null, "title": "BMASIDUN01 Certificte Expiring Alert", "tooltip": {"shared": true, "sort": 0, "value_type": "individual"}, "type": "graph", "xaxis": {"buckets": null, "mode": "time", "name": null, "show": true, "values": []}, "yaxes": [{"$$hashKey": "object:63", "format": "short", "label": null, "logBase": 1, "max": null, "min": null, "show": true}, {"$$hashKey": "object:64", "format": "short", "label": null, "logBase": 1, "max": null, "min": null, "show": true}], "yaxis": {"align": false, "alignLevel": null}}, {"alert": {"alertRuleTags": {}, "conditions": [{"evaluator": {"params": [0], "type": "gt"}, "operator": {"type": "and"}, "query": {"params": ["Cert Expiry within 7d", "5m", "now"]}, "reducer": {"params": [], "type": "avg"}, "type": "query"}, {"evaluator": {"params": [0], "type": "gt"}, "operator": {"type": "or"}, "query": {"params": ["Cert Expiry within 30d", "5m", "now"]}, "reducer": {"params": [], "type": "avg"}, "type": "query"}], "executionErrorState": "alerting", "for": "5m", "frequency": "1m", "handler": 1, "message": "VIAVIEIAP01 Certificates are about to expire", "name": "VIAVIEIAP01 Certificte Expiring Alert alert", "noDataState": "alerting", "notifications": [{"uid": "7uATNlDnz"}]}, "aliasColors": {}, "bars": false, "dashLength": 10, "dashes": false, "datasource": "viavieiap01", "description": "BNEWIDUN01 Alert Dashboard for pods failed, jobs failed, deployment_replicas unavailable, nodes unavailable in the namespace oss and running pvc's above 70% for the environment BNEW01 ", "fieldConfig": {"defaults": {"unit": "short"}, "overrides": []}, "fill": 1, "fillGradient": 0, "gridPos": {"h": 9, "w": 12, "x": 12, "y": 27}, "hiddenSeries": false, "id": 15, "legend": {"avg": false, "current": false, "max": false, "min": false, "show": true, "total": false, "values": false}, "lines": true, "linewidth": 1, "nullPointMode": "null", "options": {"alertThreshold": true}, "percentage": false, "pluginVersion": "8.1.3", "pointradius": 2, "points": false, "renderer": "flot", "seriesOverrides": [], "spaceLength": 10, "stack": false, "steppedLine": false, "targets": [{"exemplar": true, "expr": "sum(0 < ((x509_cert_not_after{job=\"certificates-exporter\", subject_O=~\"Ericsson.*\"} - time()) / 86400) < bool 7)", "hide": false, "interval": "", "legendFormat": "Certificate expiring within 7 days", "refId": "Cert Expiry within 7d"}, {"exemplar": true, "expr": "sum(0 < ((x509_cert_not_after{job=\"certificates-exporter\", subject_O=~\"Ericsson.*\"} - time()) / 86400) < bool 30)", "hide": false, "interval": "", "legendFormat": "Certificate expiring within 30 days", "refId": "Cert Expiry within 30d"}], "thresholds": [{"colorMode": "critical", "fill": true, "line": true, "op": "gt", "value": 0, "visible": true}], "timeFrom": null, "timeRegions": [], "timeShift": null, "title": "VIAVIEIAP01 Certificte Expiring Alert", "tooltip": {"shared": true, "sort": 0, "value_type": "individual"}, "type": "graph", "xaxis": {"buckets": null, "mode": "time", "name": null, "show": true, "values": []}, "yaxes": [{"$$hashKey": "object:63", "format": "short", "label": null, "logBase": 1, "max": null, "min": null, "show": true}, {"$$hashKey": "object:64", "format": "short", "label": null, "logBase": 1, "max": null, "min": null, "show": true}], "yaxis": {"align": false, "alignLevel": null}}, {"alert": {"alertRuleTags": {}, "conditions": [{"evaluator": {"params": [0], "type": "gt"}, "operator": {"type": "and"}, "query": {"params": ["Cert Expiry within 7d", "5m", "now"]}, "reducer": {"params": [], "type": "avg"}, "type": "query"}, {"evaluator": {"params": [0], "type": "gt"}, "operator": {"type": "and"}, "query": {"params": ["Cert Expiry within 30d", "5m", "now"]}, "reducer": {"params": [], "type": "avg"}, "type": "query"}], "executionErrorState": "alerting", "for": "5m", "frequency": "1m", "handler": 1, "message": "ERNIDUN01 Certificates are about to expire", "name": "ERNIDUN01 Certificte Expiring Alert alert", "noDataState": "alerting", "notifications": [{"uid": "7uATNlDnz"}]}, "aliasColors": {}, "bars": false, "dashLength": 10, "dashes": false, "datasource": "ernidun01", "description": "BNEWIDUN01 Alert Dashboard for pods failed, jobs failed, deployment_replicas unavailable, nodes unavailable in the namespace oss and running pvc's above 70% for the environment BNEW01 ", "fieldConfig": {"defaults": {"unit": "short"}, "overrides": []}, "fill": 1, "fillGradient": 0, "gridPos": {"h": 9, "w": 12, "x": 0, "y": 36}, "hiddenSeries": false, "id": 14, "legend": {"avg": false, "current": false, "max": false, "min": false, "show": true, "total": false, "values": false}, "lines": true, "linewidth": 1, "nullPointMode": "null", "options": {"alertThreshold": true}, "percentage": false, "pluginVersion": "8.1.3", "pointradius": 2, "points": false, "renderer": "flot", "seriesOverrides": [], "spaceLength": 10, "stack": false, "steppedLine": false, "targets": [{"exemplar": true, "expr": "sum(0 < ((x509_cert_not_after{job=\"certificates-exporter\", subject_O=~\"Ericsson.*\"} - time()) / 86400) < bool 7)", "hide": false, "interval": "", "legendFormat": "Certificate expiring within 7 days", "refId": "Cert Expiry within 7d"}, {"exemplar": true, "expr": "sum(0 < ((x509_cert_not_after{job=\"certificates-exporter\", subject_O=~\"Ericsson.*\"} - time()) / 86400) < bool 30)", "hide": false, "interval": "", "legendFormat": "Certificate expiring within 30 days", "refId": "Cert Expiry within 30d"}], "thresholds": [{"colorMode": "critical", "fill": true, "line": true, "op": "gt", "value": 0, "visible": true}], "timeFrom": null, "timeRegions": [], "timeShift": null, "title": "ERNIDUN01 Certificte Expiring Alert", "tooltip": {"shared": true, "sort": 0, "value_type": "individual"}, "type": "graph", "xaxis": {"buckets": null, "mode": "time", "name": null, "show": true, "values": []}, "yaxes": [{"$$hashKey": "object:63", "format": "short", "label": null, "logBase": 1, "max": null, "min": null, "show": true}, {"$$hashKey": "object:64", "format": "short", "label": null, "logBase": 1, "max": null, "min": null, "show": true}], "yaxis": {"align": false, "alignLevel": null}}, {"alert": {"alertRuleTags": {}, "conditions": [{"evaluator": {"params": [0], "type": "gt"}, "operator": {"type": "and"}, "query": {"params": ["Cert Expiry within 7d", "5m", "now"]}, "reducer": {"params": [], "type": "avg"}, "type": "query"}, {"evaluator": {"params": [0], "type": "gt"}, "operator": {"type": "or"}, "query": {"params": ["Cert Expiry within 30d", "5m", "now"]}, "reducer": {"params": [], "type": "avg"}, "type": "query"}], "executionErrorState": "alerting", "for": "5m", "frequency": "1m", "handler": 1, "message": "ECOSYSTEM01 Certificates are about to expire", "name": "ECOSYSTEM01 Certificte Expiring Alert alert", "noDataState": "alerting", "notifications": [{"uid": "7uATNlDnz"}]}, "aliasColors": {}, "bars": false, "dashLength": 10, "dashes": false, "datasource": "ecosystem01", "description": "BNEWIDUN01 Alert Dashboard for pods failed, jobs failed, deployment_replicas unavailable, nodes unavailable in the namespace oss and running pvc's above 70% for the environment BNEW01 ", "fieldConfig": {"defaults": {"unit": "short"}, "overrides": []}, "fill": 1, "fillGradient": 0, "gridPos": {"h": 9, "w": 12, "x": 12, "y": 36}, "hiddenSeries": false, "id": 13, "legend": {"avg": false, "current": false, "max": false, "min": false, "show": true, "total": false, "values": false}, "lines": true, "linewidth": 1, "nullPointMode": "null", "options": {"alertThreshold": true}, "percentage": false, "pluginVersion": "8.1.3", "pointradius": 2, "points": false, "renderer": "flot", "seriesOverrides": [], "spaceLength": 10, "stack": false, "steppedLine": false, "targets": [{"exemplar": true, "expr": "sum(0 < ((x509_cert_not_after{job=\"certificates-exporter\", subject_O=~\"Ericsson.*\"} - time()) / 86400) < bool 7)", "hide": false, "interval": "", "legendFormat": "Certificate expiring within 7 days", "refId": "Cert Expiry within 7d"}, {"exemplar": true, "expr": "sum(0 < ((x509_cert_not_after{job=\"certificates-exporter\", subject_O=~\"Ericsson.*\"} - time()) / 86400) < bool 30)", "hide": false, "interval": "", "legendFormat": "Certificate expiring within 30 days", "refId": "Cert Expiry within 30d"}], "thresholds": [{"colorMode": "critical", "fill": true, "line": true, "op": "gt", "value": 0, "visible": true}], "timeFrom": null, "timeRegions": [], "timeShift": null, "title": "ECOSYSTEM01 Certificte Expiring Alert", "tooltip": {"shared": true, "sort": 0, "value_type": "individual"}, "type": "graph", "xaxis": {"buckets": null, "mode": "time", "name": null, "show": true, "values": []}, "yaxes": [{"$$hashKey": "object:63", "format": "short", "label": null, "logBase": 1, "max": null, "min": null, "show": true}, {"$$hashKey": "object:64", "format": "short", "label": null, "logBase": 1, "max": null, "min": null, "show": true}], "yaxis": {"align": false, "alignLevel": null}}, {"alert": {"alertRuleTags": {}, "conditions": [{"evaluator": {"params": [0], "type": "gt"}, "operator": {"type": "and"}, "query": {"params": ["Cert Expiry within 7d", "5m", "now"]}, "reducer": {"params": [], "type": "avg"}, "type": "query"}, {"evaluator": {"params": [0], "type": "gt"}, "operator": {"type": "or"}, "query": {"params": ["Cert Expiry within 30d", "5m", "now"]}, "reducer": {"params": [], "type": "avg"}, "type": "query"}], "executionErrorState": "alerting", "for": "5m", "frequency": "1m", "handler": 1, "message": "PROTOTYPE01 Certificates are about to expire", "name": "PROTOTYPE01 Certificte Expiring Alert alert", "noDataState": "alerting", "notifications": [{"uid": "7uATNlDnz"}]}, "aliasColors": {}, "bars": false, "dashLength": 10, "dashes": false, "datasource": "prototype01", "description": "BNEWIDUN01 Alert Dashboard for pods failed, jobs failed, deployment_replicas unavailable, nodes unavailable in the namespace oss and running pvc's above 70% for the environment BNEW01 ", "fieldConfig": {"defaults": {"unit": "short"}, "overrides": []}, "fill": 1, "fillGradient": 0, "gridPos": {"h": 9, "w": 12, "x": 0, "y": 45}, "hiddenSeries": false, "id": 12, "legend": {"avg": false, "current": false, "max": false, "min": false, "show": true, "total": false, "values": false}, "lines": true, "linewidth": 1, "nullPointMode": "null", "options": {"alertThreshold": true}, "percentage": false, "pluginVersion": "8.1.3", "pointradius": 2, "points": false, "renderer": "flot", "seriesOverrides": [], "spaceLength": 10, "stack": false, "steppedLine": false, "targets": [{"exemplar": true, "expr": "sum(0 < ((x509_cert_not_after{job=\"certificates-exporter\", subject_O=~\"Ericsson.*\"} - time()) / 86400) < bool 7)", "hide": false, "interval": "", "legendFormat": "Certificate expiring within 7 days", "refId": "Cert Expiry within 7d"}, {"exemplar": true, "expr": "sum(0 < ((x509_cert_not_after{job=\"certificates-exporter\", subject_O=~\"Ericsson.*\"} - time()) / 86400) < bool 30)", "hide": false, "interval": "", "legendFormat": "Certificate expiring within 30 days", "refId": "Cert Expiry within 30d"}], "thresholds": [{"colorMode": "critical", "fill": true, "line": true, "op": "gt", "value": 0, "visible": true}], "timeFrom": null, "timeRegions": [], "timeShift": null, "title": "PROTOTYPE01 Certificte Expiring Alert", "tooltip": {"shared": true, "sort": 0, "value_type": "individual"}, "type": "graph", "xaxis": {"buckets": null, "mode": "time", "name": null, "show": true, "values": []}, "yaxes": [{"$$hashKey": "object:63", "format": "short", "label": null, "logBase": 1, "max": null, "min": null, "show": true}, {"$$hashKey": "object:64", "format": "short", "label": null, "logBase": 1, "max": null, "min": null, "show": true}], "yaxis": {"align": false, "alignLevel": null}}], "schemaVersion": 30, "style": "dark", "tags": [], "templating": {"list": []}, "time": {"from": "now-6h", "to": "now"}, "timepicker": {}, "timezone": "", "title": "Certificate Expiration Alerts", "uid": "iGisNHO4k", "version": 12}