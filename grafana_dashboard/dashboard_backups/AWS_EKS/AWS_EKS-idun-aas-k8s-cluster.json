{"annotations": {"list": [{"builtIn": 1, "datasource": "-- Grafana --", "enable": true, "hide": true, "iconColor": "rgba(0, 211, 255, 1)", "name": "Annotations & Alerts", "target": {"limit": 100, "matchAny": false, "tags": [], "type": "dashboard"}, "type": "dashboard"}]}, "description": "Summary metrics about containers running on Kubernetes nodes.", "editable": true, "gnetId": null, "graphTooltip": 1, "id": 112, "iteration": 1667485899221, "links": [{"asDropdown": true, "icon": "external link", "includeVars": true, "keepTime": false, "tags": ["kubernetes-app"], "title": "Dashboards", "type": "dashboards"}], "panels": [{"collapsed": false, "datasource": null, "gridPos": {"h": 1, "w": 24, "x": 0, "y": 0}, "id": 2, "panels": [], "title": "Cluster Health", "type": "row"}, {"cacheTimeout": null, "datasource": "$datasource", "fieldConfig": {"defaults": {"color": {"mode": "thresholds"}, "mappings": [{"options": {"match": "null", "result": {"text": "N/A"}}, "type": "special"}], "max": 100, "min": 0, "thresholds": {"mode": "absolute", "steps": [{"color": "#299c46", "value": null}, {"color": "rgba(237, 129, 40, 0.89)", "value": 80}, {"color": "#d44a3a", "value": 90}]}, "unit": "percent"}, "overrides": []}, "gridPos": {"h": 4, "w": 6, "x": 0, "y": 1}, "id": 4, "interval": null, "links": [], "maxDataPoints": 100, "options": {"orientation": "horizontal", "reduceOptions": {"calcs": ["lastNotNull"], "fields": "", "values": false}, "showThresholdLabels": false, "showThresholdMarkers": true, "text": {}}, "pluginVersion": "8.1.3", "targets": [{"exemplar": true, "expr": "sum(kube_pod_info) / sum(kube_node_status_allocatable{resource=\"pods\"}) * 100", "format": "time_series", "interval": "", "intervalFactor": 1, "legendFormat": "", "refId": "A"}], "title": "Cluster Pod Usage", "type": "gauge"}, {"cacheTimeout": null, "datasource": "$datasource", "fieldConfig": {"defaults": {"color": {"mode": "thresholds"}, "mappings": [{"options": {"match": "null", "result": {"text": "N/A"}}, "type": "special"}], "max": 100, "min": 0, "thresholds": {"mode": "absolute", "steps": [{"color": "#299c46", "value": null}, {"color": "rgba(237, 129, 40, 0.89)", "value": 80}, {"color": "#d44a3a", "value": 90}]}, "unit": "percent"}, "overrides": []}, "gridPos": {"h": 4, "w": 6, "x": 6, "y": 1}, "id": 5, "interval": null, "links": [], "maxDataPoints": 100, "options": {"orientation": "horizontal", "reduceOptions": {"calcs": ["lastNotNull"], "fields": "", "values": false}, "showThresholdLabels": false, "showThresholdMarkers": true, "text": {}}, "pluginVersion": "8.1.3", "targets": [{"exemplar": true, "expr": "sum(kube_pod_container_resource_requests{resource=\"cpu\"}) / sum(kube_node_status_allocatable{resource=\"cpu\"}) * 100", "format": "time_series", "interval": "", "intervalFactor": 1, "legendFormat": "", "refId": "A"}], "title": "Cluster CPU Usage", "type": "gauge"}, {"cacheTimeout": null, "datasource": "${ds}", "fieldConfig": {"defaults": {"color": {"mode": "thresholds"}, "mappings": [{"options": {"match": "null", "result": {"text": "N/A"}}, "type": "special"}], "max": 100, "min": 0, "thresholds": {"mode": "absolute", "steps": [{"color": "#299c46", "value": null}, {"color": "rgba(237, 129, 40, 0.89)", "value": 80}, {"color": "#d44a3a", "value": 90}]}, "unit": "percent"}, "overrides": []}, "gridPos": {"h": 4, "w": 6, "x": 12, "y": 1}, "id": 6, "interval": null, "links": [], "maxDataPoints": 100, "options": {"orientation": "horizontal", "reduceOptions": {"calcs": ["lastNotNull"], "fields": "", "values": false}, "showThresholdLabels": false, "showThresholdMarkers": true, "text": {}}, "pluginVersion": "8.1.3", "targets": [{"exemplar": true, "expr": "sum(kube_pod_container_resource_requests{resource=\"memory\"}) / sum(kube_node_status_allocatable{resource=\"memory\"}) * 100", "format": "time_series", "interval": "", "intervalFactor": 1, "legendFormat": "", "refId": "A"}], "title": "Cluster Memory Usage", "type": "gauge"}, {"cacheTimeout": null, "datasource": "$datasource", "fieldConfig": {"defaults": {"color": {"mode": "thresholds"}, "decimals": 1, "mappings": [{"options": {"match": "null", "result": {"text": "N/A"}}, "type": "special"}], "max": 100, "min": 0, "thresholds": {"mode": "absolute", "steps": [{"color": "#299c46", "value": null}, {"color": "rgba(237, 129, 40, 0.89)", "value": 80}, {"color": "#d44a3a", "value": 90}]}, "unit": "percent"}, "overrides": []}, "gridPos": {"h": 4, "w": 6, "x": 18, "y": 1}, "id": 7, "interval": null, "links": [], "maxDataPoints": 100, "options": {"orientation": "horizontal", "reduceOptions": {"calcs": ["mean"], "fields": "", "values": false}, "showThresholdLabels": false, "showThresholdMarkers": true, "text": {}}, "pluginVersion": "8.1.3", "targets": [{"exemplar": true, "expr": "sum (container_fs_usage_bytes{device=~\"^/dev/[nsx][v][bdm][a-z].+$\",id=\"/\",instance=~\"^$node\"}) / sum (container_fs_limit_bytes{device=~\"^/dev/[nsx][v][bdm][a-z].+$\",id=\"/\",instance=~\"^$node\"}) *100", "format": "time_series", "interval": "", "intervalFactor": 1, "legendFormat": "", "refId": "A"}], "title": "Cluster Disk Usage", "type": "gauge"}, {"aliasColors": {}, "bars": false, "dashLength": 10, "dashes": false, "datasource": "$datasource", "fill": 1, "fillGradient": 0, "gridPos": {"h": 5, "w": 6, "x": 0, "y": 5}, "hiddenSeries": false, "id": 9, "legend": {"avg": false, "current": false, "max": false, "min": false, "show": true, "total": false, "values": false}, "lines": true, "linewidth": 1, "links": [], "nullPointMode": "null", "options": {"alertThreshold": true}, "percentage": false, "pluginVersion": "8.1.3", "pointradius": 5, "points": false, "renderer": "flot", "seriesOverrides": [], "spaceLength": 10, "stack": false, "steppedLine": false, "targets": [{"exemplar": true, "expr": "sum(kube_node_status_allocatable{resource=\"pods\",node=~\"$node\"})", "format": "time_series", "hide": false, "interval": "", "intervalFactor": 1, "legendFormat": "Allocatable", "refId": "A"}, {"exemplar": true, "expr": "sum(kube_node_status_capacity{resource=\"pods\", node=~\"$node\"})", "hide": false, "interval": "", "legendFormat": "Capacity", "refId": "B"}, {"exemplar": true, "expr": "sum(kube_pod_info{node=~\"$node\"})", "hide": false, "interval": "", "legendFormat": "Requested", "refId": "C"}], "thresholds": [], "timeFrom": null, "timeRegions": [], "timeShift": null, "title": "Cluster Pod Capacity", "tooltip": {"shared": true, "sort": 0, "value_type": "individual"}, "type": "graph", "xaxis": {"buckets": null, "mode": "time", "name": null, "show": true, "values": []}, "yaxes": [{"format": "short", "label": "pods", "logBase": 1, "max": null, "min": null, "show": true}, {"format": "short", "label": null, "logBase": 1, "max": null, "min": null, "show": true}], "yaxis": {"align": false, "alignLevel": null}}, {"aliasColors": {}, "bars": false, "dashLength": 10, "dashes": false, "datasource": "$datasource", "fill": 1, "fillGradient": 0, "gridPos": {"h": 5, "w": 6, "x": 6, "y": 5}, "hiddenSeries": false, "id": 10, "legend": {"avg": false, "current": false, "max": false, "min": false, "show": true, "total": false, "values": false}, "lines": true, "linewidth": 1, "links": [], "nullPointMode": "null", "options": {"alertThreshold": true}, "percentage": false, "pluginVersion": "8.1.3", "pointradius": 5, "points": false, "renderer": "flot", "seriesOverrides": [], "spaceLength": 10, "stack": false, "steppedLine": false, "targets": [{"exemplar": true, "expr": "sum(kube_node_status_capacity{resource=\"cpu\",unit=\"core\",node=~\"$node\"})", "format": "time_series", "interval": "", "intervalFactor": 1, "legendFormat": "Allocatable", "refId": "A"}, {"exemplar": true, "expr": "sum(kube_node_status_allocatable{resource=\"cpu\",node=~\"$node\"})", "format": "time_series", "interval": "", "intervalFactor": 1, "legendFormat": "Capacity", "refId": "B"}, {"exemplar": true, "expr": "sum(kube_pod_container_resource_requests{resource=\"cpu\", kubernetes_node=~\"$node\"})", "format": "time_series", "hide": false, "interval": "", "intervalFactor": 1, "legendFormat": "Requested", "refId": "C"}], "thresholds": [], "timeFrom": null, "timeRegions": [], "timeShift": null, "title": "Cluster CPU Capacity", "tooltip": {"shared": true, "sort": 0, "value_type": "individual"}, "type": "graph", "xaxis": {"buckets": null, "mode": "time", "name": null, "show": true, "values": []}, "yaxes": [{"decimals": null, "format": "none", "label": "cores", "logBase": 1, "max": null, "min": null, "show": true}, {"format": "short", "label": null, "logBase": 1, "max": null, "min": null, "show": true}], "yaxis": {"align": false, "alignLevel": null}}, {"aliasColors": {}, "bars": false, "dashLength": 10, "dashes": false, "datasource": "$datasource", "fill": 1, "fillGradient": 0, "gridPos": {"h": 5, "w": 6, "x": 12, "y": 5}, "hiddenSeries": false, "id": 11, "legend": {"avg": false, "current": false, "max": false, "min": false, "show": true, "total": false, "values": false}, "lines": true, "linewidth": 1, "links": [], "nullPointMode": "null", "options": {"alertThreshold": true}, "percentage": false, "pluginVersion": "8.1.3", "pointradius": 5, "points": false, "renderer": "flot", "seriesOverrides": [], "spaceLength": 10, "stack": false, "steppedLine": false, "targets": [{"exemplar": true, "expr": "sum(kube_node_status_allocatable{resource=\"memory\", node=~\"$node\"})", "format": "time_series", "interval": "", "intervalFactor": 1, "legendFormat": "Allocatable", "refId": "A"}, {"exemplar": true, "expr": "sum(kube_node_status_capacity{resource=\"memory\",node=~\"$node\"})", "format": "time_series", "interval": "", "intervalFactor": 1, "legendFormat": "Capacity", "refId": "B"}, {"exemplar": true, "expr": "sum(kube_pod_container_resource_requests{resource=\"memory\", kubernetes_node=~\"$node\"})", "format": "time_series", "interval": "", "intervalFactor": 1, "legendFormat": "Requested", "refId": "C"}], "thresholds": [], "timeFrom": null, "timeRegions": [], "timeShift": null, "title": "Cluster Mem Capacity", "tooltip": {"shared": true, "sort": 0, "value_type": "individual"}, "type": "graph", "xaxis": {"buckets": null, "mode": "time", "name": null, "show": true, "values": []}, "yaxes": [{"format": "decbytes", "label": null, "logBase": 1, "max": null, "min": null, "show": true}, {"format": "short", "label": null, "logBase": 1, "max": null, "min": null, "show": true}], "yaxis": {"align": false, "alignLevel": null}}, {"aliasColors": {}, "bars": false, "dashLength": 10, "dashes": false, "datasource": "${ds}", "fill": 1, "fillGradient": 0, "gridPos": {"h": 5, "w": 6, "x": 18, "y": 5}, "hiddenSeries": false, "id": 12, "legend": {"avg": false, "current": false, "max": false, "min": false, "show": true, "total": false, "values": false}, "lines": true, "linewidth": 1, "links": [], "nullPointMode": "null", "options": {"alertThreshold": true}, "percentage": false, "pluginVersion": "8.1.3", "pointradius": 5, "points": false, "renderer": "flot", "seriesOverrides": [], "spaceLength": 10, "stack": false, "steppedLine": false, "targets": [{"exemplar": true, "expr": "sum(node_filesystem_size_bytes)-sum(node_filesystem_files_free)", "format": "time_series", "interval": "", "intervalFactor": 1, "legendFormat": "Usage", "refId": "A"}, {"exemplar": true, "expr": "sum(node_filesystem_size_bytes)", "hide": false, "interval": "", "legendFormat": "Capacity", "refId": "B"}], "thresholds": [], "timeFrom": null, "timeRegions": [], "timeShift": null, "title": "Cluster Disk Capacity", "tooltip": {"shared": true, "sort": 0, "value_type": "individual"}, "type": "graph", "xaxis": {"buckets": null, "mode": "time", "name": null, "show": true, "values": []}, "yaxes": [{"format": "decbytes", "label": null, "logBase": 1, "max": null, "min": null, "show": true}, {"format": "short", "label": null, "logBase": 1, "max": null, "min": null, "show": true}], "yaxis": {"align": false, "alignLevel": null}}, {"collapsed": false, "datasource": null, "gridPos": {"h": 1, "w": 24, "x": 0, "y": 10}, "id": 14, "panels": [], "title": "Deployments", "type": "row"}, {"columns": [{"$$hashKey": "object:919", "text": "Current", "value": "current"}], "datasource": "$datasource", "fontSize": "100%", "gridPos": {"h": 11, "w": 12, "x": 0, "y": 11}, "id": 16, "links": [], "pageSize": null, "scroll": true, "showHeader": true, "sort": {"col": 1, "desc": true}, "styles": [{"$$hashKey": "object:170", "alias": "Time", "align": "auto", "dateFormat": "YYYY-MM-DD HH:mm:ss", "pattern": "Time", "type": "date"}, {"$$hashKey": "object:171", "alias": "", "align": "auto", "colorMode": "row", "colors": ["rgba(245, 54, 54, 0.9)", "rgba(237, 129, 40, 0.89)", "rgba(50, 172, 45, 0.97)"], "decimals": 0, "pattern": "Metric", "thresholds": ["0", "0", ".9"], "type": "string", "unit": "none"}, {"$$hashKey": "object:172", "alias": "", "align": "auto", "colorMode": "row", "colors": ["rgba(245, 54, 54, 0.9)", "rgba(237, 129, 40, 0.89)", "rgba(50, 172, 45, 0.97)"], "dateFormat": "YYYY-MM-DD HH:mm:ss", "decimals": 0, "link": false, "pattern": "Value", "thresholds": ["0", "1"], "type": "number", "unit": "none"}], "targets": [{"exemplar": true, "expr": "kube_deployment_status_replicas{namespace=~\"$namespace\"}", "format": "time_series", "instant": true, "interval": "", "intervalFactor": 1, "legendFormat": "{{ deployment }}", "refId": "A"}], "title": "Deployment Replicas - Up To Date", "transform": "timeseries_to_rows", "type": "table-old"}, {"cacheTimeout": null, "datasource": "$datasource", "fieldConfig": {"defaults": {"color": {"mode": "thresholds"}, "decimals": 0, "mappings": [{"options": {"match": "null", "result": {"index": 0, "text": "0"}}, "type": "special"}], "thresholds": {"mode": "absolute", "steps": [{"color": "green", "value": null}, {"color": "red", "value": 80}]}, "unit": "none"}, "overrides": []}, "gridPos": {"h": 6, "w": 12, "x": 12, "y": 11}, "id": 18, "interval": null, "links": [], "maxDataPoints": 100, "options": {"colorMode": "none", "graphMode": "none", "justifyMode": "auto", "orientation": "horizontal", "reduceOptions": {"calcs": ["mean"], "fields": "", "values": false}, "text": {}, "textMode": "auto"}, "pluginVersion": "8.1.3", "targets": [{"exemplar": true, "expr": "sum(kube_deployment_status_replicas{namespace=~\"$namespace\"})", "format": "time_series", "interval": "", "intervalFactor": 1, "legendFormat": "", "refId": "A"}], "title": "Deployment Replicas", "type": "stat"}, {"cacheTimeout": null, "datasource": "$datasource", "fieldConfig": {"defaults": {"color": {"mode": "thresholds"}, "decimals": 0, "mappings": [{"options": {"match": "null", "result": {"index": 0, "text": "0"}}, "type": "special"}], "thresholds": {"mode": "absolute", "steps": [{"color": "green", "value": null}, {"color": "red", "value": 80}]}, "unit": "none"}, "overrides": []}, "gridPos": {"h": 5, "w": 6, "x": 12, "y": 17}, "id": 19, "interval": null, "links": [], "maxDataPoints": 100, "options": {"colorMode": "none", "graphMode": "none", "justifyMode": "auto", "orientation": "horizontal", "reduceOptions": {"calcs": ["mean"], "fields": "", "values": false}, "text": {}, "textMode": "auto"}, "pluginVersion": "8.1.3", "targets": [{"expr": "sum(kube_deployment_status_replicas_updated{namespace=~\"$namespace\"})", "format": "time_series", "intervalFactor": 1, "refId": "A"}], "title": "Deployment Replicas - Updated", "type": "stat"}, {"cacheTimeout": null, "datasource": "$datasource", "fieldConfig": {"defaults": {"color": {"mode": "thresholds"}, "decimals": 0, "mappings": [{"options": {"match": "null", "result": {"index": 0, "text": "0"}}, "type": "special"}], "thresholds": {"mode": "absolute", "steps": [{"color": "green", "value": null}, {"color": "red", "value": 80}]}, "unit": "none"}, "overrides": []}, "gridPos": {"h": 5, "w": 6, "x": 18, "y": 17}, "id": 20, "interval": null, "links": [], "maxDataPoints": 100, "options": {"colorMode": "none", "graphMode": "none", "justifyMode": "auto", "orientation": "horizontal", "reduceOptions": {"calcs": ["mean"], "fields": "", "values": false}, "text": {}, "textMode": "auto"}, "pluginVersion": "8.1.3", "targets": [{"exemplar": false, "expr": "sum(kube_deployment_status_replicas_unavailable{namespace=~\"$namespace\"})", "format": "time_series", "interval": "", "intervalFactor": 1, "legendFormat": "", "refId": "A"}], "title": "Deployment Replicas - Unavailable", "type": "stat"}, {"collapsed": false, "datasource": null, "gridPos": {"h": 1, "w": 24, "x": 0, "y": 22}, "id": 22, "panels": [], "title": "Node", "type": "row"}, {"datasource": "${datasource}", "fieldConfig": {"defaults": {"color": {"mode": "thresholds"}, "custom": {"align": "center", "displayMode": "color-text", "filterable": false}, "mappings": [], "thresholds": {"mode": "absolute", "steps": [{"color": "green", "value": null}, {"color": "red", "value": 80}]}}, "overrides": []}, "gridPos": {"h": 12, "w": 12, "x": 0, "y": 23}, "id": 55, "options": {"showHeader": true}, "pluginVersion": "8.1.3", "targets": [{"exemplar": true, "expr": "kube_node_labels{}", "format": "table", "instant": true, "interval": "", "legendFormat": "", "refId": "A"}], "title": "Node Info", "transformations": [{"id": "organize", "options": {"excludeByName": {"Time": true, "Value": true, "__name__": true, "app_kubernetes_io_instance": true, "app_kubernetes_io_managed_by": true, "app_kubernetes_io_name": true, "helm_sh_chart": true, "instance": true, "job": true, "kubernetes_name": true, "kubernetes_namespace": true, "kubernetes_node": true, "label_beta_kubernetes_io_arch": true, "label_beta_kubernetes_io_instance_type": true, "label_beta_kubernetes_io_os": true, "label_eks_amazonaws_com_capacityType": true, "label_eks_amazonaws_com_nodegroup": true, "label_eks_amazonaws_com_nodegroup_image": true, "label_failure_domain_beta_kubernetes_io_region": true, "label_failure_domain_beta_kubernetes_io_zone": true, "label_k8s_io_cloud_provider_aws": true, "label_kubernetes_io_arch": true, "label_kubernetes_io_hostname": true, "label_kubernetes_io_os": true, "label_node_kubernetes_io_instance_type": false, "label_topology_kubernetes_io_zone": true, "label_vpc_amazonaws_com_eniConfig": true, "node": false}, "indexByName": {"Time": 0, "Value": 28, "__name__": 2, "app_kubernetes_io_instance": 3, "app_kubernetes_io_managed_by": 4, "app_kubernetes_io_name": 5, "helm_sh_chart": 6, "instance": 7, "job": 8, "kubernetes_name": 9, "kubernetes_namespace": 10, "kubernetes_node": 11, "label_beta_kubernetes_io_arch": 12, "label_beta_kubernetes_io_instance_type": 13, "label_beta_kubernetes_io_os": 14, "label_eks_amazonaws_com_capacityType": 17, "label_eks_amazonaws_com_nodegroup": 15, "label_eks_amazonaws_com_nodegroup_image": 16, "label_failure_domain_beta_kubernetes_io_region": 18, "label_failure_domain_beta_kubernetes_io_zone": 19, "label_k8s_io_cloud_provider_aws": 20, "label_kubernetes_io_arch": 21, "label_kubernetes_io_hostname": 22, "label_kubernetes_io_os": 23, "label_node_kubernetes_io_instance_type": 24, "label_topology_kubernetes_io_region": 25, "label_topology_kubernetes_io_zone": 26, "label_vpc_amazonaws_com_eniConfig": 27, "node": 1}, "renameByName": {"Value": "", "label_node_kubernetes_io_instance_type": "Instance Type", "label_topology_kubernetes_io_region": "Region", "node": "NODE "}}}], "type": "table"}, {"cacheTimeout": null, "datasource": "$datasource", "fieldConfig": {"defaults": {"color": {"mode": "thresholds"}, "decimals": 0, "mappings": [{"options": {"match": "null", "result": {"index": 0, "text": "0"}}, "type": "special"}], "thresholds": {"mode": "absolute", "steps": [{"color": "green", "value": null}, {"color": "red", "value": 80}]}, "unit": "none"}, "overrides": []}, "gridPos": {"h": 4, "w": 12, "x": 12, "y": 23}, "id": 24, "interval": null, "links": [], "maxDataPoints": 100, "options": {"colorMode": "none", "graphMode": "none", "justifyMode": "auto", "orientation": "horizontal", "reduceOptions": {"calcs": ["mean"], "fields": "", "values": false}, "text": {}, "textMode": "auto"}, "pluginVersion": "8.1.3", "targets": [{"exemplar": true, "expr": "sum(kube_node_info{node=~\"$node\"})", "format": "time_series", "interval": "", "intervalFactor": 1, "legendFormat": "", "refId": "A"}], "title": "Number Of Nodes", "type": "stat"}, {"cacheTimeout": null, "datasource": "${datasource}", "fieldConfig": {"defaults": {"color": {"mode": "thresholds"}, "decimals": 0, "mappings": [{"options": {"match": "null", "result": {"index": 0, "text": "0"}}, "type": "special"}], "thresholds": {"mode": "absolute", "steps": [{"color": "#299c46", "value": null}, {"color": "rgba(237, 129, 40, 0.89)", "value": 1}]}, "unit": "none"}, "overrides": []}, "gridPos": {"h": 4, "w": 12, "x": 12, "y": 27}, "id": 25, "interval": null, "links": [], "maxDataPoints": 100, "options": {"colorMode": "background", "graphMode": "none", "justifyMode": "auto", "orientation": "horizontal", "reduceOptions": {"calcs": ["lastNotNull"], "fields": "", "values": false}, "text": {}, "textMode": "auto"}, "pluginVersion": "8.1.3", "targets": [{"exemplar": true, "expr": "sum(kube_node_status_condition{condition=\"OutOfDisk\", node=~\"$node\", status=\"true\"})", "format": "time_series", "interval": "", "intervalFactor": 1, "legendFormat": "", "refId": "A"}], "title": "Nodes Out of Disk", "type": "stat"}, {"cacheTimeout": null, "datasource": "$datasource", "fieldConfig": {"defaults": {"color": {"mode": "thresholds"}, "decimals": 0, "mappings": [{"options": {"match": "null", "result": {"index": 0, "text": "0"}}, "type": "special"}], "thresholds": {"mode": "absolute", "steps": [{"color": "#299c46", "value": null}, {"color": "rgba(237, 129, 40, 0.89)", "value": 1}, {"color": "#d44a3a"}]}, "unit": "none"}, "overrides": []}, "gridPos": {"h": 4, "w": 12, "x": 12, "y": 31}, "id": 26, "interval": null, "links": [], "maxDataPoints": 100, "options": {"colorMode": "background", "graphMode": "none", "justifyMode": "auto", "orientation": "horizontal", "reduceOptions": {"calcs": ["lastNotNull"], "fields": "", "values": false}, "text": {}, "textMode": "auto"}, "pluginVersion": "8.1.3", "targets": [{"expr": "sum(kube_node_spec_unschedulable{node=~\"$node\"})", "format": "time_series", "intervalFactor": 1, "refId": "A"}], "title": "Nodes Unavailable", "type": "stat"}, {"collapsed": false, "datasource": null, "gridPos": {"h": 1, "w": 24, "x": 0, "y": 35}, "id": 28, "panels": [], "title": "Pods", "type": "row"}, {"cacheTimeout": null, "datasource": "$datasource", "fieldConfig": {"defaults": {"color": {"fixedColor": "#629e51", "mode": "fixed"}, "decimals": 0, "mappings": [{"options": {"match": "null", "result": {"index": 0, "text": "0"}}, "type": "special"}], "thresholds": {"mode": "absolute", "steps": [{"color": "green", "value": null}, {"color": "red", "value": 80}]}, "unit": "none"}, "overrides": []}, "gridPos": {"h": 3, "w": 12, "x": 0, "y": 36}, "id": 30, "interval": null, "links": [], "maxDataPoints": 100, "options": {"colorMode": "none", "graphMode": "area", "justifyMode": "auto", "orientation": "horizontal", "reduceOptions": {"calcs": ["lastNotNull"], "fields": "", "values": false}, "text": {}, "textMode": "auto"}, "pluginVersion": "8.1.3", "targets": [{"expr": "sum(kube_pod_status_phase{namespace=~\"$namespace\", phase=\"Running\"})", "format": "time_series", "interval": "", "intervalFactor": 1, "refId": "A"}], "title": "Pods Running", "type": "stat"}, {"cacheTimeout": null, "datasource": "$datasource", "fieldConfig": {"defaults": {"color": {"fixedColor": "#629e51", "mode": "fixed"}, "decimals": 0, "mappings": [{"options": {"match": "null", "result": {"index": 0, "text": "0"}}, "type": "special"}], "thresholds": {"mode": "absolute", "steps": [{"color": "green", "value": null}, {"color": "red", "value": 80}]}, "unit": "none"}, "overrides": []}, "gridPos": {"h": 3, "w": 12, "x": 12, "y": 36}, "id": 31, "interval": null, "links": [], "maxDataPoints": 100, "options": {"colorMode": "none", "graphMode": "area", "justifyMode": "auto", "orientation": "horizontal", "reduceOptions": {"calcs": ["lastNotNull"], "fields": "", "values": false}, "text": {}, "textMode": "auto"}, "pluginVersion": "8.1.3", "targets": [{"expr": "sum(kube_pod_status_phase{namespace=~\"$namespace\", phase=\"Pending\"})", "format": "time_series", "interval": "", "intervalFactor": 1, "refId": "A"}], "title": "Pods Pending", "type": "stat"}, {"cacheTimeout": null, "datasource": "$datasource", "fieldConfig": {"defaults": {"color": {"fixedColor": "#629e51", "mode": "thresholds"}, "decimals": 0, "mappings": [{"options": {"match": "null", "result": {"index": 0, "text": "0"}}, "type": "special"}], "thresholds": {"mode": "absolute", "steps": [{"color": "green", "value": null}, {"color": "red", "value": 1}]}, "unit": "none"}, "overrides": []}, "gridPos": {"h": 3, "w": 8, "x": 0, "y": 39}, "id": 32, "interval": null, "links": [], "maxDataPoints": 100, "options": {"colorMode": "none", "graphMode": "area", "justifyMode": "auto", "orientation": "horizontal", "reduceOptions": {"calcs": ["lastNotNull"], "fields": "", "values": false}, "text": {}, "textMode": "auto"}, "pluginVersion": "8.1.3", "targets": [{"expr": "sum(kube_pod_status_phase{namespace=~\"$namespace\", phase=\"Failed\"})", "format": "time_series", "interval": "", "intervalFactor": 1, "refId": "A"}], "title": "Pods Failed", "type": "stat"}, {"cacheTimeout": null, "datasource": "$datasource", "fieldConfig": {"defaults": {"color": {"fixedColor": "#629e51", "mode": "fixed"}, "decimals": 0, "mappings": [{"options": {"match": "null", "result": {"index": 0, "text": "0"}}, "type": "special"}], "thresholds": {"mode": "absolute", "steps": [{"color": "green", "value": null}, {"color": "red", "value": 80}]}, "unit": "none"}, "overrides": []}, "gridPos": {"h": 3, "w": 8, "x": 8, "y": 39}, "id": 33, "interval": null, "links": [], "maxDataPoints": 100, "options": {"colorMode": "none", "graphMode": "area", "justifyMode": "auto", "orientation": "horizontal", "reduceOptions": {"calcs": ["lastNotNull"], "fields": "", "values": false}, "text": {}, "textMode": "auto"}, "pluginVersion": "8.1.3", "targets": [{"exemplar": true, "expr": "sum(kube_pod_status_phase{namespace=~\"$namespace\", phase=\"Succeeded\"})", "format": "time_series", "interval": "", "intervalFactor": 1, "legendFormat": "", "refId": "A"}], "title": "Pods Succeeded", "type": "stat"}, {"cacheTimeout": null, "datasource": "$datasource", "fieldConfig": {"defaults": {"color": {"fixedColor": "#629e51", "mode": "fixed"}, "decimals": 0, "mappings": [{"options": {"match": "null", "result": {"index": 0, "text": "0"}}, "type": "special"}], "thresholds": {"mode": "absolute", "steps": [{"color": "green", "value": null}, {"color": "red", "value": 80}]}, "unit": "none"}, "overrides": []}, "gridPos": {"h": 3, "w": 8, "x": 16, "y": 39}, "id": 53, "interval": null, "links": [], "maxDataPoints": 100, "options": {"colorMode": "none", "graphMode": "area", "justifyMode": "auto", "orientation": "horizontal", "reduceOptions": {"calcs": ["lastNotNull"], "fields": "", "values": false}, "text": {}, "textMode": "auto"}, "pluginVersion": "8.1.3", "targets": [{"exemplar": true, "expr": "sum(kube_pod_status_phase{namespace=~\"$namespace\", phase=\"Unknown\"})", "format": "time_series", "interval": "", "intervalFactor": 1, "legendFormat": "", "refId": "A"}], "title": "Pods Unknown", "type": "stat"}, {"collapsed": false, "datasource": null, "gridPos": {"h": 1, "w": 24, "x": 0, "y": 42}, "id": 36, "panels": [], "title": "Containers", "type": "row"}, {"cacheTimeout": null, "datasource": "$datasource", "fieldConfig": {"defaults": {"color": {"fixedColor": "rgb(31, 120, 193)", "mode": "fixed"}, "decimals": 0, "mappings": [{"options": {"match": "null", "result": {"index": 0, "text": "0"}}, "type": "special"}], "thresholds": {"mode": "absolute", "steps": [{"color": "green", "value": null}, {"color": "red", "value": 80}]}, "unit": "none"}, "overrides": []}, "gridPos": {"h": 3, "w": 6, "x": 0, "y": 43}, "id": 38, "interval": null, "links": [], "maxDataPoints": 100, "options": {"colorMode": "none", "graphMode": "area", "justifyMode": "auto", "orientation": "horizontal", "reduceOptions": {"calcs": ["lastNotNull"], "fields": "", "values": false}, "text": {}, "textMode": "auto"}, "pluginVersion": "8.1.3", "targets": [{"expr": "sum(kube_pod_container_status_running{namespace=~\"$namespace\"})", "format": "time_series", "intervalFactor": 1, "refId": "A"}], "title": "Containers Running", "type": "stat"}, {"cacheTimeout": null, "datasource": "$datasource", "fieldConfig": {"defaults": {"color": {"fixedColor": "rgb(31, 120, 193)", "mode": "fixed"}, "decimals": 0, "mappings": [{"options": {"match": "null", "result": {"index": 0, "text": "0"}}, "type": "special"}], "thresholds": {"mode": "absolute", "steps": [{"color": "green", "value": null}, {"color": "red", "value": 80}]}, "unit": "none"}, "overrides": []}, "gridPos": {"h": 3, "w": 6, "x": 6, "y": 43}, "id": 39, "interval": null, "links": [], "maxDataPoints": 100, "options": {"colorMode": "none", "graphMode": "area", "justifyMode": "auto", "orientation": "horizontal", "reduceOptions": {"calcs": ["lastNotNull"], "fields": "", "values": false}, "text": {}, "textMode": "auto"}, "pluginVersion": "8.1.3", "targets": [{"expr": "sum(kube_pod_container_status_waiting{namespace=~\"$namespace\"})", "format": "time_series", "intervalFactor": 1, "refId": "A"}], "title": "Containers Waiting", "type": "stat"}, {"cacheTimeout": null, "datasource": "$datasource", "fieldConfig": {"defaults": {"color": {"fixedColor": "rgb(31, 120, 193)", "mode": "fixed"}, "decimals": 0, "mappings": [{"options": {"match": "null", "result": {"index": 0, "text": "0"}}, "type": "special"}], "thresholds": {"mode": "absolute", "steps": [{"color": "green", "value": null}, {"color": "red", "value": 80}]}, "unit": "none"}, "overrides": []}, "gridPos": {"h": 3, "w": 6, "x": 12, "y": 43}, "id": 40, "interval": null, "links": [], "maxDataPoints": 100, "options": {"colorMode": "none", "graphMode": "area", "justifyMode": "auto", "orientation": "horizontal", "reduceOptions": {"calcs": ["lastNotNull"], "fields": "", "values": false}, "text": {}, "textMode": "auto"}, "pluginVersion": "8.1.3", "targets": [{"expr": "sum(kube_pod_container_status_terminated{namespace=~\"$namespace\"})", "format": "time_series", "intervalFactor": 1, "refId": "A"}], "title": "Containers Terminated", "type": "stat"}, {"cacheTimeout": null, "datasource": "$datasource", "fieldConfig": {"defaults": {"color": {"fixedColor": "rgb(31, 120, 193)", "mode": "fixed"}, "decimals": 0, "mappings": [{"options": {"match": "null", "result": {"index": 0, "text": "0"}}, "type": "special"}], "thresholds": {"mode": "absolute", "steps": [{"color": "green", "value": null}, {"color": "red", "value": 80}]}, "unit": "none"}, "overrides": []}, "gridPos": {"h": 3, "w": 6, "x": 18, "y": 43}, "id": 41, "interval": null, "links": [], "maxDataPoints": 100, "options": {"colorMode": "none", "graphMode": "none", "justifyMode": "auto", "orientation": "horizontal", "reduceOptions": {"calcs": ["lastNotNull"], "fields": "", "values": false}, "text": {}, "textMode": "auto"}, "pluginVersion": "8.1.3", "targets": [{"exemplar": true, "expr": "sum(rate(kube_pod_container_status_restarts_total{namespace=~\"$namespace\"}[30m]))", "format": "time_series", "interval": "", "intervalFactor": 1, "legendFormat": "", "refId": "A"}], "title": "Containers Restarts (Last 30 Minutes)", "type": "stat"}, {"cacheTimeout": null, "datasource": "$datasource", "fieldConfig": {"defaults": {"color": {"fixedColor": "rgb(31, 120, 193)", "mode": "fixed"}, "mappings": [{"options": {"match": "null", "result": {"index": 0, "text": "0"}}, "type": "special"}], "thresholds": {"mode": "absolute", "steps": [{"color": "green", "value": null}, {"color": "red", "value": 80}]}, "unit": "decbytes"}, "overrides": []}, "gridPos": {"h": 3, "w": 12, "x": 0, "y": 46}, "id": 43, "interval": null, "links": [], "maxDataPoints": 100, "options": {"colorMode": "none", "graphMode": "area", "justifyMode": "auto", "orientation": "horizontal", "reduceOptions": {"calcs": ["mean"], "fields": "", "values": false}, "text": {}, "textMode": "auto"}, "pluginVersion": "8.1.3", "targets": [{"exemplar": true, "expr": "sum(rate(container_cpu_usage_seconds_total{container_name!=\"POD\",namespace=~\"$namespace\"}[15m]))", "format": "time_series", "interval": "", "intervalFactor": 1, "legendFormat": "", "refId": "A"}], "title": "CPU Cores Requested by Containers", "type": "stat"}, {"cacheTimeout": null, "datasource": "$datasource", "fieldConfig": {"defaults": {"color": {"fixedColor": "rgb(31, 120, 193)", "mode": "fixed"}, "decimals": 0, "mappings": [{"options": {"match": "null", "result": {"index": 0, "text": "0"}}, "type": "special"}], "thresholds": {"mode": "absolute", "steps": [{"color": "green", "value": null}, {"color": "red", "value": 80}]}, "unit": "decbytes"}, "overrides": []}, "gridPos": {"h": 3, "w": 12, "x": 12, "y": 46}, "id": 42, "interval": null, "links": [], "maxDataPoints": 100, "options": {"colorMode": "none", "graphMode": "area", "justifyMode": "auto", "orientation": "horizontal", "reduceOptions": {"calcs": ["lastNotNull"], "fields": "", "values": false}, "text": {}, "textMode": "auto"}, "pluginVersion": "8.1.3", "targets": [{"exemplar": true, "expr": "sum(container_memory_usage_bytes{namespace=~\"$namespace\", container!=\"POD\"})", "format": "time_series", "interval": "", "intervalFactor": 1, "legendFormat": "", "refId": "A"}], "title": "Memory Requested By Containers", "type": "stat"}, {"collapsed": false, "datasource": null, "gridPos": {"h": 1, "w": 24, "x": 0, "y": 49}, "id": 45, "panels": [], "title": "Jobs", "type": "row"}, {"cacheTimeout": null, "datasource": "$datasource", "fieldConfig": {"defaults": {"color": {"fixedColor": "rgb(31, 120, 193)", "mode": "fixed"}, "decimals": 0, "mappings": [{"options": {"match": "null", "result": {"index": 0, "text": "0"}}, "type": "special"}], "thresholds": {"mode": "absolute", "steps": [{"color": "green", "value": null}, {"color": "red", "value": 80}]}, "unit": "none"}, "overrides": []}, "gridPos": {"h": 3, "w": 8, "x": 0, "y": 50}, "id": 47, "interval": null, "links": [], "maxDataPoints": 100, "options": {"colorMode": "none", "graphMode": "area", "justifyMode": "auto", "orientation": "horizontal", "reduceOptions": {"calcs": ["lastNotNull"], "fields": "", "values": false}, "text": {}, "textMode": "auto"}, "pluginVersion": "8.1.3", "targets": [{"expr": "sum(kube_job_status_succeeded{namespace=~\"$namespace\"})", "format": "time_series", "intervalFactor": 1, "refId": "A"}], "title": "Jobs Succeeded", "type": "stat"}, {"cacheTimeout": null, "datasource": "$datasource", "fieldConfig": {"defaults": {"color": {"fixedColor": "rgb(31, 120, 193)", "mode": "fixed"}, "decimals": 0, "mappings": [{"options": {"match": "null", "result": {"index": 0, "text": "0"}}, "type": "special"}], "thresholds": {"mode": "absolute", "steps": [{"color": "green", "value": null}, {"color": "red", "value": 80}]}, "unit": "none"}, "overrides": []}, "gridPos": {"h": 3, "w": 8, "x": 8, "y": 50}, "id": 48, "interval": null, "links": [], "maxDataPoints": 100, "options": {"colorMode": "none", "graphMode": "area", "justifyMode": "auto", "orientation": "horizontal", "reduceOptions": {"calcs": ["lastNotNull"], "fields": "", "values": false}, "text": {}, "textMode": "auto"}, "pluginVersion": "8.1.3", "targets": [{"expr": "sum(kube_job_status_active{namespace=~\"$namespace\"})", "format": "time_series", "intervalFactor": 1, "refId": "A"}], "title": "Jobs Succeeded", "type": "stat"}, {"cacheTimeout": null, "datasource": "$datasource", "fieldConfig": {"defaults": {"color": {"fixedColor": "rgb(31, 120, 193)", "mode": "fixed"}, "decimals": 0, "mappings": [{"options": {"match": "null", "result": {"index": 0, "text": "0"}}, "type": "special"}], "thresholds": {"mode": "absolute", "steps": [{"color": "green", "value": null}, {"color": "red", "value": 80}]}, "unit": "none"}, "overrides": []}, "gridPos": {"h": 3, "w": 8, "x": 16, "y": 50}, "id": 49, "interval": null, "links": [], "maxDataPoints": 100, "options": {"colorMode": "none", "graphMode": "area", "justifyMode": "auto", "orientation": "horizontal", "reduceOptions": {"calcs": ["lastNotNull"], "fields": "", "values": false}, "text": {}, "textMode": "auto"}, "pluginVersion": "8.1.3", "targets": [{"expr": "sum(kube_job_status_failed{namespace=~\"$namespace\"})", "format": "time_series", "intervalFactor": 1, "refId": "A"}], "title": "Jobs Failed", "type": "stat"}], "refresh": "30s", "schemaVersion": 30, "style": "dark", "tags": ["kubernetes", "kubernetes-app"], "templating": {"list": [{"current": {"selected": false, "text": "bnewidun01", "value": "bnewidun01"}, "description": null, "error": null, "hide": 0, "includeAll": false, "label": "Environment", "multi": false, "name": "ds", "options": [], "query": "prometheus", "queryValue": "os", "refresh": 1, "regex": "", "skipUrlSync": false, "type": "datasource"}, {"current": {"selected": false, "text": "bnewidun01", "value": "bnewidun01"}, "description": null, "error": null, "hide": 2, "includeAll": false, "label": "", "multi": false, "name": "datasource", "options": [], "query": "prometheus", "refresh": 1, "regex": "/$ds/", "skipUrlSync": false, "type": "datasource"}, {"allValue": null, "current": {"selected": true, "text": ["All"], "value": ["$__all"]}, "datasource": "${datasource}", "definition": "label_values(namespace)", "description": null, "error": null, "hide": 0, "includeAll": true, "label": "Namespace", "multi": false, "name": "namespace", "options": [], "query": {"query": "label_values(namespace)", "refId": "StandardVariableQuery"}, "refresh": 1, "regex": "", "skipUrlSync": false, "sort": 0, "tagValuesQuery": null, "tagsQuery": null, "type": "query", "useTags": false}, {"allValue": null, "current": {"selected": true, "text": ["All"], "value": ["$__all"]}, "datasource": "${ds}", "definition": "label_values(node)", "description": null, "error": null, "hide": 0, "includeAll": true, "label": "Node", "multi": false, "name": "node", "options": [], "query": {"query": "label_values(node)", "refId": "StandardVariableQuery"}, "refresh": 1, "regex": "", "skipUrlSync": false, "sort": 0, "type": "query"}]}, "time": {"from": "now-30m", "to": "now"}, "timepicker": {"refresh_intervals": ["5s", "10s", "30s", "1m", "5m", "15m", "30m", "1h", "2h", "1d"], "time_options": ["5m", "15m", "1h", "6h", "12h", "24h", "2d", "7d", "30d"]}, "timezone": "browser", "title": "Idun aaS K8s Cluster", "uid": "ArIC5UGnk1", "version": 47}