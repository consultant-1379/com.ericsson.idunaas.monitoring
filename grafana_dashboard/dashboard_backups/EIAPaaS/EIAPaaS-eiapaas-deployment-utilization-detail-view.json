{"annotations": {"list": [{"builtIn": 1, "datasource": "-- Grafana --", "enable": true, "hide": true, "iconColor": "rgba(0, 211, 255, 1)", "name": "Annotations & Alerts", "target": {"limit": 100, "matchAny": false, "tags": [], "type": "dashboard"}, "type": "dashboard"}]}, "description": "Displays the number of  user logins on a deployment", "editable": true, "gnetId": null, "graphTooltip": 0, "id": 178, "iteration": 1668079184477, "links": [{"asDropdown": false, "icon": "dashboard", "includeVars": false, "keepTime": false, "tags": [], "targetBlank": true, "title": "Alerts  Dashboard", "tooltip": "", "type": "link", "url": "http://150.132.8.132:3000/d/gFEB4MvVz/eiapaas-deployment-utilization-alerts"}], "panels": [{"collapsed": false, "datasource": null, "gridPos": {"h": 1, "w": 24, "x": 0, "y": 0}, "id": 7, "panels": [], "title": "User Logins", "type": "row"}, {"datasource": "${environment}", "description": "User login history for deployment ${environment}", "fieldConfig": {"defaults": {"color": {"fixedColor": "super-light-blue", "mode": "fixed"}, "mappings": [], "thresholds": {"mode": "absolute", "steps": [{"color": "green", "value": null}]}, "unit": "short"}, "overrides": []}, "gridPos": {"h": 7, "w": 4, "x": 0, "y": 1}, "id": 2, "options": {"colorMode": "background", "graphMode": "none", "justifyMode": "auto", "orientation": "auto", "reduceOptions": {"calcs": ["lastNotNull"], "fields": "", "values": false}, "text": {}, "textMode": "auto"}, "pluginVersion": "8.1.3", "targets": [{"exemplar": true, "expr": "round(sum(delta(keycloak_logins{client_id=\"eo\"}[$__range])))", "instant": true, "interval": "", "legendFormat": "", "refId": "A"}], "timeFrom": null, "timeShift": null, "title": "User logins", "type": "stat"}, {"datasource": "${environment}", "description": "Total number of user logins on the deployments on ${environment}", "fieldConfig": {"defaults": {"color": {"mode": "palette-classic"}, "custom": {"axisLabel": "", "axisPlacement": "auto", "barAlignment": 0, "drawStyle": "line", "fillOpacity": 0, "gradientMode": "none", "hideFrom": {"legend": false, "tooltip": false, "viz": false}, "lineInterpolation": "linear", "lineWidth": 1, "pointSize": 5, "scaleDistribution": {"type": "linear"}, "showPoints": "auto", "spanNulls": true, "stacking": {"group": "A", "mode": "none"}, "thresholdsStyle": {"mode": "off"}}, "mappings": [], "thresholds": {"mode": "absolute", "steps": [{"color": "green", "value": null}, {"color": "red", "value": 80}]}}, "overrides": []}, "gridPos": {"h": 7, "w": 18, "x": 4, "y": 1}, "id": 4, "options": {"legend": {"calcs": [], "displayMode": "list", "placement": "bottom"}, "tooltip": {"mode": "single"}}, "targets": [{"exemplar": true, "expr": "sum(keycloak_logins{client_id=\"eo\"})", "instant": false, "interval": "", "legendFormat": "Sum", "refId": "A"}], "title": "Total user logins", "type": "timeseries"}, {"collapsed": false, "datasource": null, "gridPos": {"h": 1, "w": 24, "x": 0, "y": 8}, "id": 9, "panels": [], "title": "Network Utilization", "type": "row"}, {"datasource": "${environment}", "fieldConfig": {"defaults": {"color": {"mode": "thresholds"}, "mappings": [], "thresholds": {"mode": "absolute", "steps": [{"color": "green", "value": null}, {"color": "red", "value": 80}]}, "unit": "bytes"}, "overrides": []}, "gridPos": {"h": 4, "w": 6, "x": 0, "y": 9}, "id": 24, "options": {"colorMode": "background", "graphMode": "none", "justifyMode": "auto", "orientation": "auto", "reduceOptions": {"calcs": ["lastNotNull"], "fields": "", "values": false}, "text": {}, "textMode": "auto"}, "pluginVersion": "8.1.3", "targets": [{"exemplar": true, "expr": "avg_over_time(aws_networkelb_processed_bytes_sum{load_balancer=\"$loadbalancer\"}[1h])", "instant": false, "interval": "", "legendFormat": "{{availability_zone}}", "refId": "A"}], "title": "Average Processed Bytes Past Hour", "transformations": [], "type": "stat"}, {"datasource": null, "gridPos": {"h": 4, "w": 16, "x": 6, "y": 9}, "id": 26, "options": {"content": "\n \n  Processed Bytes - The total number of bytes processed by the load balancer, including TCP/IP headers. This count includes traffic to and from targets, minus health check traffic.\n   \n  Active Flow Count - The total number of concurrent flows (or connections) from clients to targets.\n  \n  \n           ", "mode": "markdown"}, "pluginVersion": "8.1.3", "title": "Panel Description", "type": "text"}, {"aliasColors": {}, "bars": false, "dashLength": 10, "dashes": false, "datasource": "${environment}", "fieldConfig": {"defaults": {"unit": "bytes"}, "overrides": []}, "fill": 1, "fillGradient": 0, "gridPos": {"h": 8, "w": 22, "x": 0, "y": 13}, "hiddenSeries": false, "id": 11, "legend": {"avg": false, "current": false, "max": false, "min": false, "show": true, "total": false, "values": false}, "lines": true, "linewidth": 1, "nullPointMode": "null", "options": {"alertThreshold": true}, "percentage": false, "pluginVersion": "8.1.3", "pointradius": 2, "points": false, "renderer": "flot", "seriesOverrides": [], "spaceLength": 10, "stack": false, "steppedLine": false, "targets": [{"exemplar": true, "expr": "aws_networkelb_processed_bytes_sum{load_balancer=~\"$loadbalancer\"}", "interval": "", "legendFormat": "{{availability_zone}}", "refId": "A"}], "thresholds": [], "timeFrom": null, "timeRegions": [], "timeShift": null, "title": "ProcessedBytes", "tooltip": {"shared": true, "sort": 0, "value_type": "individual"}, "type": "graph", "xaxis": {"buckets": null, "mode": "time", "name": null, "show": true, "values": []}, "yaxes": [{"$$hashKey": "object:158", "format": "bytes", "label": null, "logBase": 1, "max": null, "min": null, "show": true}, {"$$hashKey": "object:159", "format": "short", "label": null, "logBase": 1, "max": null, "min": null, "show": true}], "yaxis": {"align": false, "alignLevel": null}}, {"aliasColors": {}, "bars": false, "dashLength": 10, "dashes": false, "datasource": "${environment}", "fill": 1, "fillGradient": 0, "gridPos": {"h": 7, "w": 22, "x": 0, "y": 21}, "hiddenSeries": false, "id": 15, "legend": {"avg": false, "current": false, "max": false, "min": false, "show": true, "total": false, "values": false}, "lines": true, "linewidth": 1, "nullPointMode": "null", "options": {"alertThreshold": true}, "percentage": false, "pluginVersion": "8.1.3", "pointradius": 2, "points": false, "renderer": "flot", "seriesOverrides": [], "spaceLength": 10, "stack": false, "steppedLine": false, "targets": [{"exemplar": true, "expr": "aws_networkelb_active_flow_count_average{load_balancer=\"$loadbalancer\"}", "interval": "", "legendFormat": "{{availability_zone}}", "refId": "A"}], "thresholds": [], "timeFrom": null, "timeRegions": [], "timeShift": null, "title": "Active Flow Count", "tooltip": {"shared": true, "sort": 0, "value_type": "individual"}, "type": "graph", "xaxis": {"buckets": null, "mode": "time", "name": null, "show": true, "values": []}, "yaxes": [{"$$hashKey": "object:245", "format": "short", "label": null, "logBase": 1, "max": null, "min": null, "show": true}, {"$$hashKey": "object:246", "format": "short", "label": null, "logBase": 1, "max": null, "min": null, "show": true}], "yaxis": {"align": false, "alignLevel": null}}, {"collapsed": false, "datasource": null, "gridPos": {"h": 1, "w": 24, "x": 0, "y": 28}, "id": 17, "panels": [], "repeat": "environment", "title": "Cost Explorer", "type": "row"}, {"datasource": "${environment}", "fieldConfig": {"defaults": {"color": {"fixedColor": "light-orange", "mode": "fixed"}, "mappings": [], "thresholds": {"mode": "absolute", "steps": [{"color": "green", "value": null}]}, "unit": "currencyUSD"}, "overrides": []}, "gridPos": {"h": 5, "w": 5, "x": 0, "y": 29}, "id": 20, "options": {"colorMode": "background", "graphMode": "area", "justifyMode": "auto", "orientation": "auto", "reduceOptions": {"calcs": ["lastNotNull"], "fields": "", "values": false}, "text": {}, "textMode": "auto"}, "pluginVersion": "8.1.3", "targets": [{"exemplar": true, "expr": "aws_last_month_usage_costs", "instant": false, "interval": "", "legendFormat": "Last month usage", "refId": "A"}], "title": "Last Month Cost", "type": "stat"}, {"datasource": "${environment}", "fieldConfig": {"defaults": {"color": {"fixedColor": "blue", "mode": "fixed"}, "mappings": [], "thresholds": {"mode": "absolute", "steps": [{"color": "green", "value": null}]}, "unit": "currencyUSD"}, "overrides": []}, "gridPos": {"h": 5, "w": 5, "x": 5, "y": 29}, "id": 19, "options": {"colorMode": "background", "graphMode": "area", "justifyMode": "auto", "orientation": "auto", "reduceOptions": {"calcs": ["lastNotNull"], "fields": "", "values": false}, "text": {}, "textMode": "auto"}, "pluginVersion": "8.1.3", "targets": [{"exemplar": true, "expr": "aws_month_usage_costs", "instant": false, "interval": "", "legendFormat": "MTD Usage", "refId": "A"}], "title": "MTD Costs", "type": "stat"}, {"datasource": "${environment}", "fieldConfig": {"defaults": {"color": {"mode": "palette-classic"}, "custom": {"axisLabel": "", "axisPlacement": "auto", "barAlignment": 0, "drawStyle": "line", "fillOpacity": 27, "gradientMode": "opacity", "hideFrom": {"legend": false, "tooltip": false, "viz": false}, "lineInterpolation": "smooth", "lineStyle": {"fill": "solid"}, "lineWidth": 6, "pointSize": 10, "scaleDistribution": {"type": "linear"}, "showPoints": "auto", "spanNulls": false, "stacking": {"group": "A", "mode": "none"}, "thresholdsStyle": {"mode": "off"}}, "mappings": [], "thresholds": {"mode": "absolute", "steps": [{"color": "green", "value": null}]}}, "overrides": []}, "gridPos": {"h": 5, "w": 12, "x": 10, "y": 29}, "id": 22, "options": {"legend": {"calcs": [], "displayMode": "table", "placement": "bottom"}, "tooltip": {"mode": "single"}}, "targets": [{"exemplar": true, "expr": "aws_daily_usage_costs", "interval": "", "legendFormat": "Daily Usage", "refId": "A"}], "title": "Daily Cost Trends", "type": "timeseries"}], "refresh": false, "schemaVersion": 30, "style": "dark", "tags": [], "templating": {"list": [{"current": {"selected": false, "text": "prototypeML", "value": "prototypeML"}, "description": null, "error": null, "hide": 0, "includeAll": false, "label": "Environment", "multi": false, "name": "environment", "options": [], "query": "prometheus", "queryValue": "", "refresh": 1, "regex": "^(?!(?:.*dev.*|.*[Tt]est.*|DEV1-EIAP_PROM|Prometheus-.*|subsystems|Prometheus-1-dev2|Subsystem-XDN|dev1-eiappm|Prometheus|idunaasdev03|idunaasdev04)$).*$", "skipUrlSync": false, "type": "datasource"}, {"allValue": null, "current": {"selected": true, "text": "net/k8s-ossproto-servicem-0ece953e29/04366411ce052e95", "value": "net/k8s-ossproto-servicem-0ece953e29/04366411ce052e95"}, "datasource": "${environment}", "definition": "label_values(aws_networkelb_active_flow_count_average{},load_balancer)", "description": "Network Load Balancer", "error": null, "hide": 0, "includeAll": false, "label": "Load Balancer", "multi": true, "name": "loadbalancer", "options": [], "query": {"query": "label_values(aws_networkelb_active_flow_count_average{},load_balancer)", "refId": "StandardVariableQuery"}, "refresh": 1, "regex": "/.*servicem.*/", "skipUrlSync": false, "sort": 2, "type": "query"}]}, "time": {"from": "now-7d", "to": "now"}, "timepicker": {}, "timezone": "", "title": "EIAPaaS Deployment Utilization Detail View", "uid": "Jgl8ks4Vk", "version": 52}